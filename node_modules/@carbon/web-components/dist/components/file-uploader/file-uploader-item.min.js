/**
 * Copyright IBM Corp. 2019, 2020
 *
 * This source code is licensed under the Apache-2.0 license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @license
 * 
 * This bundle contains the following third-party dependencies:
 * 
 * Also refer to the following links for the license of other third-party dependencies:
 * 
 * https://www.npmjs.com/package/tslib
 * https://www.npmjs.com/package/lit
 * https://www.npmjs.com/package/@lit/context
 * https://www.npmjs.com/package/lodash-es
 * https://www.npmjs.com/package/@floating-ui/dom
 * https://www.npmjs.com/package/flatpickr
 * https://www.npmjs.com/package/lit-html
 * https://www.npmjs.com/package/lit-element
 * https://www.npmjs.com/package/@lit/reactive-element
 * https://www.npmjs.com/package/@floating-ui/core
 * https://www.npmjs.com/package/@floating-ui/utils
 */

import{__decorate as e}from"../../node_modules/tslib/tslib.es6.min.js";import"../../node_modules/@lit/reactive-element/reactive-element.min.js";import{html as t}from"../../node_modules/lit-html/lit-html.min.js";import{LitElement as i}from"../../node_modules/lit-element/lit-element.min.js";import{property as r}from"../../node_modules/@lit/reactive-element/decorators/property.min.js";import o from"../../packages/icons/lib/checkmark--filled/16.min.js";import s from"../../packages/icons/lib/close/16.min.js";import n from"../../packages/icons/lib/warning--filled/16.min.js";import{prefix as l}from"../../globals/settings.min.js";import"../loading/loading.min.js";import{FILE_UPLOADER_ITEM_SIZE as d,FILE_UPLOADER_ITEM_STATE as a}from"./defs.min.js";import c from"./file-uploader.scss.min.js";import{carbonElement as m}from"../../globals/decorators/carbon-element.min.js";import{LOADING_TYPE as p}from"../loading/defs.min.js";let u=class extends i{constructor(){super(...arguments),this.iconDescription="Delete this file",this.invalid=!1,this.size=d.MEDIUM,this.state=a.UPLOADING,this.errorSubject="",this.errorBody=""}_handleClickDeleteButton(){const e={bubbles:!0,cancelable:!0,composed:!0},{eventBeforeDelete:t,eventDelete:i}=this.constructor;this.dispatchEvent(new CustomEvent(t,e))&&this.dispatchEvent(new CustomEvent(i,e))}_renderEditing(){const{iconDescription:e,invalid:i,_handleClickDeleteButton:r}=this;return t`
      ${i?n({class:`${l}--file-invalid`}):void 0}
      <button
        type="button"
        aria-label="${e}"
        class="${l}--file-close"
        @click="${r}">
        ${s()}
      </button>
    `}_renderUploading(){const{iconDescription:e}=this;return t`
      <cds-loading
        assistive-text="${e}"
        type="${p.SMALL}"></cds-loading>
    `}_renderUploaded(){const{iconDescription:e}=this;return o({class:`${l}--file-complete`,"aria-label":e})}_renderStatus(){const{state:e}=this;switch(e){case a.EDIT:return this._renderEditing();case a.UPLOADING:return this._renderUploading();case a.COMPLETE:return this._renderUploaded();default:return}}render(){const{invalid:e,errorSubject:i,errorBody:r}=this;return t` <p class="${l}--file-filename"><slot></slot></p>
      <span class="${l}--file__state-container"
        >${this._renderStatus()}</span
      >
      <div
        class="${l}--form-requirement"
        ?hidden="${!e&&!i}">
        <div class="${l}--form-requirement__title">${i}</div>
        <p
          class="${l}--form-requirement__supplement"
          ?hidden="${!r}">
          ${r}
        </p>
      </div>`}static get eventBeforeDelete(){return`${l}-file-uploader-item-beingdeleted`}static get eventDelete(){return`${l}-file-uploader-item-deleted`}};u.styles=c,e([r({attribute:"icon-description"})],u.prototype,"iconDescription",void 0),e([r({type:Boolean,reflect:!0})],u.prototype,"invalid",void 0),e([r({reflect:!0})],u.prototype,"size",void 0),e([r({reflect:!0})],u.prototype,"state",void 0),e([r({attribute:"error-subject"})],u.prototype,"errorSubject",void 0),e([r({attribute:"error-body"})],u.prototype,"errorBody",void 0),u=e([m(`${l}-file-uploader-item`)],u);export{d as FILE_UPLOADER_ITEM_SIZE,a as FILE_UPLOADER_ITEM_STATE};
