/**
 * Copyright IBM Corp. 2019, 2020
 *
 * This source code is licensed under the Apache-2.0 license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @license
 * 
 * This bundle contains the following third-party dependencies:
 * 
 * Also refer to the following links for the license of other third-party dependencies:
 * 
 * https://www.npmjs.com/package/tslib
 * https://www.npmjs.com/package/lit
 * https://www.npmjs.com/package/@lit/context
 * https://www.npmjs.com/package/lodash-es
 * https://www.npmjs.com/package/@floating-ui/dom
 * https://www.npmjs.com/package/flatpickr
 * https://www.npmjs.com/package/lit-html
 * https://www.npmjs.com/package/lit-element
 * https://www.npmjs.com/package/@lit/reactive-element
 * https://www.npmjs.com/package/@floating-ui/core
 * https://www.npmjs.com/package/@floating-ui/utils
 */

import{__decorate as t}from"../../node_modules/tslib/tslib.es6.min.js";import{classMap as e}from"../../node_modules/lit-html/directives/class-map.min.js";import"../../node_modules/@lit/reactive-element/reactive-element.min.js";import{html as i}from"../../node_modules/lit-html/lit-html.min.js";import"../../node_modules/lit-element/lit-element.min.js";import{property as o}from"../../node_modules/@lit/reactive-element/decorators/property.min.js";import{prefix as s}from"../../globals/settings.min.js";import r from"../toggle-tip/toggletip.min.js";import l from"./ai-label.scss.min.js";import n from"../../packages/icons/lib/undo/16.min.js";import{AI_LABEL_KIND as a,AI_LABEL_SIZE as p}from"./defs.min.js";import{carbonElement as m}from"../../globals/decorators/carbon-element.min.js";let c=class extends r{constructor(){super(...arguments),this.slot="ai-label",this.aiText="AI",this.aiTextLabel="",this.kind=a.DEFAULT,this.revertActive=!1,this.revertLabel="Revert to AI input",this.size=p.EXTRA_SMALL,this.buttonLabel="Show information",this._handleClick=()=>{this.revertActive?(this.revertActive=!1,this.removeAttribute("revert-active")):this.open=!this.open},this._renderToggleTipLabel=()=>i``,this._renderTooltipButton=()=>{const{size:t,kind:o,aiText:r,aiTextLabel:l,buttonLabel:n}=this,p=`${r} - ${n}`,m=e({[`${s}--toggletip-button`]:!0,[`${s}--slug__button`]:!0,[`${s}--slug__button--${t}`]:t,[`${s}--slug__button--${o}`]:o,[`${s}--slug__button--inline-with-content`]:o===a.INLINE&&l});return i`
      <button
        aria-controls="${this.id}"
        @click="${this._handleClick}"
        class=${m}
        aria-label="${p}">
        <span class="${s}--slug__text">${r}</span>
        ${l&&o===a.INLINE?i`
              <span class="${s}--slug__additional-text">
                ${l}
              </span>
            `:""}
      </button>
    `},this._renderInnerContent=()=>{const{autoalign:t,revertActive:e,revertLabel:o}=this;return i`
      ${e?i`
            <cds-icon-button
              ?autoalign=${t}
              kind="ghost"
              size="sm"
              @click="${this._handleClick}">
              <span slot="tooltip-content"> ${o} </span>
              ${n({slot:"icon"})}
            </cds-icon-button>
          `:i`
            ${this._renderTooltipButton()} ${this._renderTooltipContent()}
          `}
    `}}attributeChangedCallback(t,e,i){var o;super.attributeChangedCallback(t,e,i),"revert-active"===t&&(null===(o=this.parentElement)||void 0===o||o.requestUpdate())}};c.styles=l,t([o({reflect:!0})],c.prototype,"slot",void 0),t([o({attribute:"ai-text"})],c.prototype,"aiText",void 0),t([o({attribute:"ai-text-label"})],c.prototype,"aiTextLabel",void 0),t([o({reflect:!0})],c.prototype,"kind",void 0),t([o({type:Boolean,attribute:"revert-active"})],c.prototype,"revertActive",void 0),t([o({attribute:"revert-label"})],c.prototype,"revertLabel",void 0),t([o({reflect:!0})],c.prototype,"size",void 0),t([o({attribute:"button-label"})],c.prototype,"buttonLabel",void 0),t([o()],c.prototype,"previousValue",void 0),c=t([m(`${s}-ai-label`)],c);
