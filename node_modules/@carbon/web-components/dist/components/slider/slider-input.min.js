/**
 * Copyright IBM Corp. 2019, 2020
 *
 * This source code is licensed under the Apache-2.0 license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @license
 * 
 * This bundle contains the following third-party dependencies:
 * 
 * Also refer to the following links for the license of other third-party dependencies:
 * 
 * https://www.npmjs.com/package/tslib
 * https://www.npmjs.com/package/lit
 * https://www.npmjs.com/package/@lit/context
 * https://www.npmjs.com/package/lodash-es
 * https://www.npmjs.com/package/@floating-ui/dom
 * https://www.npmjs.com/package/flatpickr
 * https://www.npmjs.com/package/lit-html
 * https://www.npmjs.com/package/lit-element
 * https://www.npmjs.com/package/@lit/reactive-element
 * https://www.npmjs.com/package/@floating-ui/core
 * https://www.npmjs.com/package/@floating-ui/utils
 */

import{__decorate as e}from"../../node_modules/tslib/tslib.es6.min.js";import{classMap as t}from"../../node_modules/lit-html/directives/class-map.min.js";import"../../node_modules/@lit/reactive-element/reactive-element.min.js";import{html as i}from"../../node_modules/lit-html/lit-html.min.js";import{LitElement as s}from"../../node_modules/lit-element/lit-element.min.js";import{property as n}from"../../node_modules/@lit/reactive-element/decorators/property.min.js";import{ifDefined as o}from"../../node_modules/lit-html/directives/if-defined.min.js";import{prefix as l}from"../../globals/settings.min.js";import a from"../../packages/icons/lib/warning--filled/16.min.js";import r from"../../packages/icons/lib/warning--alt--filled/16.min.js";import m from"../../globals/mixins/focus.min.js";import d from"./slider.scss.min.js";import{carbonElement as p}from"../../globals/decorators/carbon-element.min.js";let u=class extends(m(s)){constructor(){super(...arguments),this._max="100",this._min="0",this._step="1",this.disabled=!1,this.invalid=!1,this.warn=!1,this.hideTextInput=!1,this.type="number",this.readonly=!1}_handleChange({target:e}){const t=Number(this.min),i=Number(this.max),s=this.value,n=e.value,o=Number(n);if(o>=t&&o<=i&&""!==n)this.value=o,this.dispatchEvent(new CustomEvent(this.constructor.eventChange,{bubbles:!0,composed:!0,detail:{value:this.value,intermediate:s}}));else{this.invalid=""===n,this.warn=(o<t||o>i)&&""!==n;const e=this.value;this.value=""!==n?o<t?t:i:"",this.dispatchEvent(new CustomEvent(this.constructor.eventChange,{bubbles:!0,composed:!0,detail:{value:this.value,intermediate:e}}))}}_handleInput({target:e}){const t=e.value;t&&(this.value=Number(t),this.invalid=!1,this.value>=Number(this.min)&&this.value<=Number(this.max)&&(this.warn=!1,this.dispatchEvent(new CustomEvent(this.constructor.eventChange,{bubbles:!0,composed:!0,detail:{value:this.value,intermediate:!0}}))))}get max(){return this._max.toString()}set max(e){const{max:t}=this;this._max=e,this.requestUpdate("max",t)}get min(){return this._min.toString()}set min(e){const{min:t}=this;this._min=e,this.requestUpdate("min",t)}get step(){return this._step.toString()}set step(e){const{step:t}=this;this._step=e,this.requestUpdate("step",t)}render(){const{disabled:e,hideTextInput:s,max:n,min:m,readonly:d,step:p,type:u,value:h,invalid:c,warn:v,_handleChange:b,_handleInput:g}=this,y=t({[`${l}--text-input`]:!0,[`${l}--slider-text-input`]:!0,[`${l}--text-input--invalid`]:c,[`${l}--slider-text-input--warn`]:v}),f=a({class:`${l}--slider__invalid-icon`}),$=r({class:`${l}--slider__invalid-icon ${l}--slider__invalid-icon--warning`});return i`
      ${s?null:i`
            <input
              ?disabled="${e}"
              ?data-invalid="${c}"
              type="${o(u)}"
              class="${y}"
              max="${n}"
              min="${m}"
              ?readonly="${o(d)}"
              step="${p}"
              .value="${h}"
              @change="${b}"
              @input="${g}" />
            ${c?i`${f}`:null}
            ${v?i`${$}`:null}
          `}
    `}static get selectorParent(){return`${l}-slider`}static get eventChange(){return`${l}-slider-input-changed`}};u.shadowRootOptions=Object.assign(Object.assign({},s.shadowRootOptions),{delegatesFocus:!0}),u.styles=d,e([n({type:Boolean,reflect:!0})],u.prototype,"disabled",void 0),e([n({type:Boolean,reflect:!0})],u.prototype,"invalid",void 0),e([n({type:Boolean,reflect:!0})],u.prototype,"warn",void 0),e([n({type:Boolean})],u.prototype,"hideTextInput",void 0),e([n({type:Number,reflect:!0})],u.prototype,"max",null),e([n({type:Number,reflect:!0})],u.prototype,"min",null),e([n({type:Number,reflect:!0})],u.prototype,"step",null),e([n()],u.prototype,"type",void 0),e([n({type:Number})],u.prototype,"value",void 0),e([n({type:Boolean,reflect:!0})],u.prototype,"readonly",void 0),u=e([p(`${l}-slider-input`)],u);
