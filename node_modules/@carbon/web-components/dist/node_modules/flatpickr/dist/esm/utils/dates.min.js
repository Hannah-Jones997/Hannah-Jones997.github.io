/**
 * Copyright IBM Corp. 2019, 2020
 *
 * This source code is licensed under the Apache-2.0 license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @license
 * 
 * This bundle contains the following third-party dependencies:
 * 
 * Also refer to the following links for the license of other third-party dependencies:
 * 
 * https://www.npmjs.com/package/tslib
 * https://www.npmjs.com/package/lit
 * https://www.npmjs.com/package/@lit/context
 * https://www.npmjs.com/package/lodash-es
 * https://www.npmjs.com/package/@floating-ui/dom
 * https://www.npmjs.com/package/flatpickr
 * https://www.npmjs.com/package/lit-html
 * https://www.npmjs.com/package/lit-element
 * https://www.npmjs.com/package/@lit/reactive-element
 * https://www.npmjs.com/package/@floating-ui/core
 * https://www.npmjs.com/package/@floating-ui/utils
 */

import{tokenRegex as e,revFormat as t,formats as n}from"./formatting.min.js";import{defaults as i}from"../types/options.min.js";import{english as a}from"../l10n/default.min.js";var r=function(e){var t=e.config,r=void 0===t?i:t,o=e.l10n,f=void 0===o?a:o,s=e.isMobile,u=void 0!==s&&s;return function(e,t,i){var a=i||f;return void 0===r.formatDate||u?t.split("").map((function(t,i,o){return n[t]&&"\\"!==o[i-1]?n[t](e,a,r):"\\"!==t?t:""})).join(""):r.formatDate(e,t,a)}},o=function(n){var r=n.config,o=void 0===r?i:r,f=n.l10n,s=void 0===f?a:f;return function(n,a,r,f){if(0===n||n){var u,m=f||s,v=n;if(n instanceof Date)u=new Date(n.getTime());else if("string"!=typeof n&&void 0!==n.toFixed)u=new Date(n);else if("string"==typeof n){var d=a||(o||i).dateFormat,D=String(n).trim();if("today"===D)u=new Date,r=!0;else if(o&&o.parseDate)u=o.parseDate(n,d);else if(/Z$/.test(D)||/GMT$/.test(D))u=new Date(n);else{for(var l=void 0,c=[],g=0,p=0,w="";g<d.length;g++){var h=d[g],M="\\"===h,x="\\"===d[g-1]||M;if(e[h]&&!x){w+=e[h];var H=new RegExp(w).exec(n);H&&(l=!0)&&c["Y"!==h?"push":"unshift"]({fn:t[h],val:H[++p]})}else M||(w+=".")}u=o&&o.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),c.forEach((function(e){var t=e.fn,n=e.val;return u=t(u,n,m)||u})),u=l?u:void 0}}if(u instanceof Date&&!isNaN(u.getTime()))return!0===r&&u.setHours(0,0,0,0),u;o.errorHandler(new Error("Invalid date provided: "+v))}}};function f(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var s=function(e,t,n){return e>Math.min(t,n)&&e<Math.max(t,n)},u=function(e,t,n){return 3600*e+60*t+n},m=function(e){var t=Math.floor(e/3600),n=(e-3600*t)/60;return[t,n,e-3600*t-60*n]},v={DAY:864e5};function d(e){var t=e.defaultHour,n=e.defaultMinute,i=e.defaultSeconds;if(void 0!==e.minDate){var a=e.minDate.getHours(),r=e.minDate.getMinutes(),o=e.minDate.getSeconds();t<a&&(t=a),t===a&&n<r&&(n=r),t===a&&n===r&&i<o&&(i=e.minDate.getSeconds())}if(void 0!==e.maxDate){var f=e.maxDate.getHours(),s=e.maxDate.getMinutes();(t=Math.min(t,f))===f&&(n=Math.min(s,n)),t===f&&n===s&&(i=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:i}}export{u as calculateSecondsSinceMidnight,f as compareDates,r as createDateFormatter,o as createDateParser,v as duration,d as getDefaultHours,s as isBetween,m as parseSeconds};
