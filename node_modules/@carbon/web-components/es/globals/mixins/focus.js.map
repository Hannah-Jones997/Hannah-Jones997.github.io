{"version":3,"file":"focus.js","sources":["../../../src/globals/mixins/focus.ts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2019, 2022\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { selectorTabbable } from '../settings';\n\n/**\n * @param Base The base class.\n * @returns A mix-in implementing `.focus()` method that focuses on the first focusable element in the shadow DOM.\n */\nconst FocusMixin = <T extends Constructor<HTMLElement>>(Base: T) =>\n  class extends Base {\n    /**\n     * Focuses on the first focusable element in the shadow DOM.\n     */\n    focus() {\n      // @ts-ignore: Until `delegatesFocus` is added to `ShadowRoot` definition\n      if (this.shadowRoot!.delegatesFocus) {\n        super.focus();\n      } else {\n        const delegateTarget =\n          this.shadowRoot!.querySelector(selectorTabbable) ||\n          this.querySelector(selectorTabbable);\n        if (delegateTarget) {\n          (delegateTarget as HTMLElement).focus();\n        } else {\n          super.focus();\n        }\n      }\n    }\n  };\n\nexport default FocusMixin;\n"],"names":[],"mappings":";;;;;;;;;AAAA;;;;;AAKG;AAIH;;;AAGG;AACG,MAAA,UAAU,GAAG,CAAqC,IAAO,KAC7D,cAAc,IAAI,CAAA;AAChB;;AAEG;IACH,KAAK,GAAA;;AAEH,QAAA,IAAI,IAAI,CAAC,UAAW,CAAC,cAAc,EAAE;YACnC,KAAK,CAAC,KAAK,EAAE;;aACR;YACL,MAAM,cAAc,GAClB,IAAI,CAAC,UAAW,CAAC,aAAa,CAAC,gBAAgB,CAAC;AAChD,gBAAA,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC;YACtC,IAAI,cAAc,EAAE;gBACjB,cAA8B,CAAC,KAAK,EAAE;;iBAClC;gBACL,KAAK,CAAC,KAAK,EAAE;;;;;;;;"}