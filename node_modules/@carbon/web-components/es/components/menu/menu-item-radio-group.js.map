{"version":3,"file":"menu-item-radio-group.js","sources":["../../../src/components/menu/menu-item-radio-group.ts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { LitElement, html } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport styles from './menu-item.scss?lit';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\nimport { consume } from '@lit/context';\nimport { MenuContext } from './menu-context';\n\n/**\n * Menu Item.\n *\n * @element cds-menu-item-radio-group\n */\n@customElement(`${prefix}-menu-item-radio-group`)\nclass CDSmenuItemRadioGroup extends LitElement {\n  @consume({ context: MenuContext })\n  context;\n\n  /**\n   * Label for the menu item radio group.\n   */\n  @property({ type: String })\n  label;\n  /**\n   * List of items in the radio group.\n   */\n  @property({ type: Array })\n  items = [];\n\n  /**\n   * Selected item in the radio group.\n   */\n  @property({ type: String, attribute: true })\n  selectedItem;\n\n  /**\n   * List of items in the radio group.\n   */\n  @property()\n  itemToString?: (item: Array<String | number>) => String;\n  /**\n   * The name of the custom event fired when the selection state changes.\n   */\n  static get eventOnChange() {\n    return `${prefix}-item-changed`;\n  }\n\n  firstUpdated(): void {\n    this.context.updateFromChild({ hasSelectableItems: true });\n\n    this.addEventListener(`click`, (e) => {\n      this.selectedItem = e.target;\n      const init = {\n        bubbles: true,\n        cancelable: true,\n        composed: true,\n        detail: {\n          triggeredBy: e.target,\n        },\n      };\n      if (\n        this.dispatchEvent(\n          new CustomEvent(\n            (this.constructor as typeof CDSmenuItemRadioGroup).eventOnChange,\n            init\n          )\n        )\n      ) {\n        this.dispatchEvent(\n          new CustomEvent(\n            (this.constructor as typeof CDSmenuItemRadioGroup).eventOnChange,\n            init\n          )\n        );\n      }\n    });\n  }\n\n  protected updated(_changedProperties): void {\n    if (_changedProperties.has('selectedItem')) {\n      this.querySelectorAll(`${prefix}-menu-item`).forEach((item) => {\n        if (item === this.selectedItem) {\n          item.setAttribute('aria-checked', 'true');\n        } else {\n          item.setAttribute('aria-checked', 'false');\n        }\n      });\n    }\n  }\n\n  render() {\n    const { label } = this;\n    return html`\n      <ul role=\"group\" aria-label=\"${label}\">\n        <slot></slot>\n      </ul>\n    `;\n  }\n  static styles = styles;\n}\nexport default CDSmenuItemRadioGroup;\n"],"names":["customElement"],"mappings":"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"}