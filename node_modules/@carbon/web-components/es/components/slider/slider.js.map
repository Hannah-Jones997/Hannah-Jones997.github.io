{"version":3,"file":"slider.js","sources":["../../../src/components/slider/slider.ts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2019, 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { LitElement, html } from 'lit';\nimport { property, query } from 'lit/decorators.js';\nimport { classMap } from 'lit/directives/class-map.js';\nimport throttle from 'lodash-es/throttle';\nimport { prefix } from '../../globals/settings';\nimport FocusMixin from '../../globals/mixins/focus';\nimport FormMixin from '../../globals/mixins/form';\nimport HostListenerMixin from '../../globals/mixins/host-listener';\nimport HostListener from '../../globals/decorators/host-listener';\nimport CDSSliderInput from './slider-input';\nimport styles from './slider.scss?lit';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\n\ninterface Cancelable {\n  cancel(): void;\n}\n\n/**\n * The direction to move the thumb, associated with key symbols.\n */\nconst THUMB_DIRECTION = {\n  Left: -1,\n  ArrowLeft: -1,\n  Up: -1,\n  ArrowUp: -1,\n  Right: 1,\n  ArrowRight: 1,\n  Down: 1,\n  ArrowDown: 1,\n};\n\n/**\n * Minimum time between processed \"drag\" events.\n */\nconst EVENT_THROTTLE = 16; // ms\n\n/**\n * Slider.\n *\n * @element cds-slider\n * @fires cds-slider-input-changed\n *   The name of the custom event fired after the value is changed in `<cds-slider-input>` by user gesture.\n * @slot label-text - The label text.\n * @slot max-text - The text for maximum value.\n * @slot min-text - The text for minimum value.\n * @fires cds-slider-changed - The custom event fired after the value is changed by user gesture.\n */\n@customElement(`${prefix}-slider`)\nclass CDSSlider extends HostListenerMixin(FormMixin(FocusMixin(LitElement))) {\n  private _cachedRateUpper: number = 1;\n  private _cachedRate: number = 0;\n  private dragCooldownTimeout: number | null = null;\n  private dragCoolDown: boolean = false;\n  /**\n   * The internal value of `max` property.\n   */\n  private _max = '100';\n\n  /**\n   * The internal value of `min` property.\n   */\n  private _min = '0';\n\n  /**\n   * The internal value of `step` property.\n   */\n  private _step = '1';\n\n  /**\n   * The internal value of `stepMultiplier` property.\n   */\n  private _stepMultiplier = '4';\n\n  /**\n   * The handle for the throttled listener of `pointermove` event.\n   */\n  private _throttledHandlePointermoveImpl:\n    | (((event: PointerEvent) => void) & Cancelable)\n    | null = null;\n\n  /**\n   * `true` if dragging of thumb is in progress.\n   */\n  private _dragging = false;\n  /**\n   * `true` if dragging of thumb upper is in progress.\n   */\n  private _draggingUpper = false;\n\n  /**\n   * The upper bound when there are two handles..\n   */\n  @property({ type: Number, attribute: 'value-upper' })\n  unstable_valueUpper;\n\n  /**\n   * The rate of the thumb position in the track.\n   * When we try to set a new value, we adjust the value considering `step` property.\n   */\n  private get _rate() {\n    const { max, min, value } = this;\n    // Copes with out-of-range value coming programmatically or from `<cds-slider-input>`\n    if (value) {\n      const rate =\n        (Math.min(Number(max), Math.max(Number(min), value)) - Number(min)) /\n        (Number(max) - Number(min));\n      this._cachedRate = rate;\n      return rate;\n    } else {\n      return this._cachedRate;\n    }\n  }\n\n  private set _rate(rate: number) {\n    const { max, min, step } = this;\n    this.value =\n      Number(min) +\n      Math.round(\n        ((Number(max) - Number(min)) * Math.min(1, Math.max(0, rate))) /\n          Number(step)\n      ) *\n        Number(step);\n  }\n  /**\n   * The rate of the upper thumb position in the track.\n   * When we try to set a new value for upper input, we adjust the value considering `step` property.\n   */\n  private get _rateUpper() {\n    const { max, min, unstable_valueUpper } = this;\n    // Copes with out-of-range value coming programmatically or from `<cds-slider-input>`\n    if (unstable_valueUpper) {\n      const rateUpper =\n        (Math.min(Number(max), Math.max(Number(min), unstable_valueUpper)) -\n          Number(min)) /\n        (Number(max) - Number(min));\n      this._cachedRateUpper = rateUpper;\n      return rateUpper;\n    } else {\n      return this._cachedRateUpper;\n    }\n  }\n\n  private set _rateUpper(rateUpper: number) {\n    const { max, min, step } = this;\n    this.unstable_valueUpper =\n      Number(min) +\n      Math.round(\n        ((Number(max) - Number(min)) * Math.min(1, Math.max(0, rateUpper))) /\n          Number(step)\n      ) *\n        Number(step);\n  }\n\n  /**\n   * The DOM element of the thumb.\n   */\n  @query('#thumb')\n  private _thumbNode!: HTMLDivElement;\n  /**\n   * The DOM element of the thumb upper.\n   */\n  @query('#thumb-upper')\n  private _thumbNodeUpper!: HTMLDivElement;\n\n  /**\n   * The DOM element of the track.\n   */\n  @query('#track')\n  private _trackNode!: HTMLDivElement;\n\n  /**\n   * Handles `click` event on the `<label>` to focus on the thumb.\n   */\n  _handleClickLabel() {\n    this._thumbNode?.focus();\n  }\n\n  _handleFormdata(event: FormDataEvent) {\n    const { formData } = event;\n    const { disabled, name, value } = this;\n    if (!disabled) {\n      formData.append(name, String(value));\n    }\n  }\n\n  /**\n   * Handles `keydown` event on the thumb to increase/decrease the value.\n   */\n  private _handleKeydown(event: KeyboardEvent) {\n    const eventContainer = (event.target as HTMLElement).id;\n    const { key, shiftKey } = event;\n    if (!this.disabled && !this.readonly) {\n      if (key in THUMB_DIRECTION) {\n        const {\n          max: rawMax,\n          min: rawMin,\n          step: rawStep,\n          stepMultiplier: rawstepMultiplier,\n          value,\n          unstable_valueUpper,\n        } = this;\n        const max = Number(rawMax);\n        const min = Number(rawMin);\n        const step = Number(rawStep);\n        const stepMultiplier = Number(rawstepMultiplier);\n        const diff =\n          (!shiftKey ? step : (max - min) / stepMultiplier) *\n          THUMB_DIRECTION[key];\n        // Snaps to next\n        if (eventContainer == 'thumb-upper') {\n          const stepCount = (unstable_valueUpper + diff) / step;\n          const position = Math.min(\n            max,\n            Math.max(\n              min,\n              (diff >= 0 ? Math.floor(stepCount) : Math.ceil(stepCount)) * step\n            )\n          );\n          if (position >= this.value) {\n            this.unstable_valueUpper = position;\n          }\n          this.dispatchEvent(\n            new CustomEvent(\n              (this.constructor as typeof CDSSlider).eventChange,\n              {\n                bubbles: true,\n                composed: true,\n                detail: {\n                  value: this.unstable_valueUpper,\n                  intermediate: false,\n                },\n              }\n            )\n          );\n        } else {\n          const stepCount = (value + diff) / step;\n          const position = Math.min(\n            max,\n            Math.max(\n              min,\n              (diff >= 0 ? Math.floor(stepCount) : Math.ceil(stepCount)) * step\n            )\n          );\n          if (\n            !this.unstable_valueUpper ||\n            position <= this.unstable_valueUpper\n          ) {\n            this.value = position;\n          }\n          this.dispatchEvent(\n            new CustomEvent(\n              (this.constructor as typeof CDSSlider).eventChange,\n              {\n                bubbles: true,\n                composed: true,\n                detail: {\n                  value: this.value,\n                  intermediate: false,\n                },\n              }\n            )\n          );\n        }\n      }\n    }\n  }\n\n  /**\n   * Throttles calls to `this._onDrag` by limiting events to being processed at\n   * most once every `EVENT_THROTTLE` milliseconds.\n   */\n  onDrag = throttle(this._startDrag, EVENT_THROTTLE, {\n    leading: true,\n    trailing: false,\n  });\n\n  /**\n   * Handles `pointerdown` event on the thumb to start dragging.\n   */\n  private _startDrag(event: PointerEvent) {\n    if (!this.readonly && !this.disabled) {\n      let eventContainer = (event.target as HTMLElement).id;\n      if (!eventContainer) {\n        const element = (event.target as HTMLInputElement).nodeName;\n        if (element == 'path' || element == 'svg') {\n          eventContainer = (\n            (\n              (event.target as HTMLInputElement).parentElement as HTMLElement\n            ).closest('.cds--slider__thumb-wrapper') as HTMLInputElement\n          ).id;\n        }\n      }\n      if (eventContainer === 'thumb') {\n        this._dragging = true;\n        this._thumbNode.style.touchAction = 'none';\n      } else {\n        this._draggingUpper = true;\n        this._thumbNodeUpper.style.touchAction = 'none';\n      }\n    }\n  }\n\n  /**\n   * Handles `pointerdown` event on the track to update the thumb position and the value as necessary.\n   */\n  private _handleClick(event: PointerEvent) {\n    let eventContainer = (event.target as HTMLInputElement).id;\n    if (!eventContainer) {\n      const element = (event.target as HTMLInputElement).nodeName;\n      if (element == 'path' || element == 'svg') {\n        eventContainer = (\n          (\n            (event.target as HTMLInputElement).parentElement as HTMLElement\n          ).closest('.cds--slider__thumb-wrapper') as HTMLInputElement\n        ).id;\n      }\n    }\n    if (!this.disabled && !this.readonly) {\n      const { _trackNode: trackNode } = this;\n      const isRtl =\n        trackNode\n          .ownerDocument!.defaultView!.getComputedStyle(trackNode)\n          .getPropertyValue('direction') === 'rtl';\n      const thumbPosition = event.clientX;\n      const { left: trackLeft, width: trackWidth } =\n        trackNode.getBoundingClientRect();\n      if (eventContainer === 'thumb-upper') {\n        this._rateUpper =\n          (isRtl\n            ? trackLeft + trackWidth - thumbPosition\n            : thumbPosition - trackLeft) / trackWidth;\n        this.dispatchEvent(\n          new CustomEvent((this.constructor as typeof CDSSlider).eventChange, {\n            bubbles: true,\n            composed: true,\n            detail: {\n              value: this.unstable_valueUpper,\n            },\n          })\n        );\n      } else {\n        if (!this.unstable_valueUpper) {\n          this._rate =\n            (isRtl\n              ? trackLeft + trackWidth - thumbPosition\n              : thumbPosition - trackLeft) / trackWidth;\n          this.dispatchEvent(\n            new CustomEvent(\n              (this.constructor as typeof CDSSlider).eventChange,\n              {\n                bubbles: true,\n                composed: true,\n                detail: {\n                  value: this.value,\n                },\n              }\n            )\n          );\n        } else {\n          if (!this.dragCoolDown) {\n            const position =\n              ((isRtl\n                ? trackLeft + trackWidth - thumbPosition\n                : thumbPosition - trackLeft) /\n                trackWidth) *\n              100;\n            const differenceValue =\n              position > this.value\n                ? position - this.value\n                : this.value - position;\n            const differenceValueUpper =\n              position > this.unstable_valueUpper\n                ? position - this.unstable_valueUpper\n                : this.unstable_valueUpper - position;\n            if (differenceValue > differenceValueUpper) {\n              this._rateUpper = position / 100;\n            } else if (differenceValue < differenceValueUpper) {\n              this._rate = position / 100;\n            } else if (\n              !this._dragging &&\n              !this._draggingUpper &&\n              differenceValue === differenceValueUpper\n            ) {\n              Math.round(position) > this.unstable_valueUpper\n                ? (this._rateUpper = position / 100)\n                : (this._rate = position / 100);\n            }\n            this.dispatchEvent(\n              new CustomEvent(\n                (this.constructor as typeof CDSSlider).eventChange,\n                {\n                  bubbles: true,\n                  composed: true,\n                  detail: {\n                    value: this.value,\n                  },\n                }\n              )\n            );\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Handles `pointermove` to update the thumb position and the value as necessary.\n   *\n   * @param event The event.\n   */\n  @HostListener('document:pointermove')\n  // @ts-ignore: The decorator refers to this method but TS thinks this method is not referred to\n  private _handlePointermove = (event: PointerEvent) => {\n    const {\n      disabled,\n      _dragging: dragging,\n      _draggingUpper: draggingUpper,\n    } = this;\n    if (!disabled && (dragging || draggingUpper)) {\n      this._throttledHandlePointermoveImpl!(event);\n    }\n  };\n\n  /**\n   * Updates thumb position and value upon user's `pointermove` gesture.\n   *\n   * @param event The event.\n   */\n  private _handlePointermoveImpl(event: PointerEvent) {\n    const {\n      disabled,\n      _dragging: dragging,\n      _trackNode: trackNode,\n      _draggingUpper: draggingUpper,\n    } = this;\n    if (!disabled) {\n      const isRtl =\n        trackNode\n          .ownerDocument!.defaultView!.getComputedStyle(trackNode)\n          .getPropertyValue('direction') === 'rtl';\n      const thumbPosition = event.clientX;\n      const { left: trackLeft, width: trackWidth } =\n        this._trackNode.getBoundingClientRect();\n      if (dragging) {\n        const position =\n          (isRtl\n            ? trackLeft + trackWidth - thumbPosition\n            : thumbPosition - trackLeft) / trackWidth;\n        if (\n          !this.unstable_valueUpper ||\n          position * 100 <= this.unstable_valueUpper\n        ) {\n          this._rate = position;\n          this.dispatchEvent(\n            new CustomEvent(\n              (this.constructor as typeof CDSSlider).eventChange,\n              {\n                bubbles: true,\n                composed: true,\n                detail: {\n                  value: this.value,\n                  intermediate: true,\n                },\n              }\n            )\n          );\n        }\n      } else if (draggingUpper) {\n        const position =\n          (isRtl\n            ? trackLeft + trackWidth - thumbPosition\n            : thumbPosition - trackLeft) / trackWidth;\n        if (position * 100 >= this.value) {\n          this._rateUpper = position;\n          this.dispatchEvent(\n            new CustomEvent(\n              (this.constructor as typeof CDSSlider).eventChange,\n              {\n                bubbles: true,\n                composed: true,\n                detail: {\n                  value: this.unstable_valueUpper,\n                  intermediate: true,\n                },\n              }\n            )\n          );\n        }\n      }\n    }\n  }\n\n  /**\n   * Handles `pointerup` and `pointerleave` event to finishing dragging.\n   */\n  private _endDrag = () => {\n    if (this._dragging || this._draggingUpper) {\n      this.dragCoolDown = true;\n    } else {\n      this.dragCoolDown = false;\n    }\n    if (this._dragging) {\n      this.dispatchEvent(\n        new CustomEvent((this.constructor as typeof CDSSlider).eventChange, {\n          bubbles: true,\n          composed: true,\n          detail: {\n            value: this.value,\n          },\n        })\n      );\n      this._dragging = false;\n      this._thumbNode.style.touchAction = '';\n    } else if (this._draggingUpper) {\n      this.dispatchEvent(\n        new CustomEvent((this.constructor as typeof CDSSlider).eventChange, {\n          bubbles: true,\n          composed: true,\n          detail: {\n            value: this.unstable_valueUpper,\n          },\n        })\n      );\n      this._draggingUpper = false;\n      this._thumbNodeUpper.style.touchAction = '';\n    }\n    if (this._dragging || this._draggingUpper) {\n      this.dragCooldownTimeout = window.setTimeout(() => {\n        this.dragCoolDown = false;\n      }, 100);\n    }\n  };\n\n  /**\n   * Handles `${prefix}-slider-input-changed` event to update the value.\n   */\n  @HostListener('eventChangeInput')\n  // @ts-ignore: The decorator refers to this method but TS thinks this method is not referred to\n  private _handleChangeInput = (event: CustomEvent) => {\n    const input = event.target as HTMLElement;\n    const inputElement = input.shadowRoot?.querySelector('input');\n    this.isValid =\n      input.tagName === 'CDS-SLIDER-INPUT'\n        ? this._getInputValidity(input)\n        : this.isValid;\n    this.warn = this._getInputWarnigState(inputElement);\n    const eventContainer = (event.target as HTMLElement).id;\n    const { detail } = event;\n    const { intermediate, value } = detail;\n    this.warnText = intermediate\n      ? `The inputted value ${intermediate} was corrected to the nearest allowed digit`\n      : '';\n    if (intermediate !== value) {\n      if (eventContainer === 'upper') {\n        this.unstable_valueUpper = value;\n      } else {\n        this.value = value;\n      }\n    }\n    const valueMain =\n      eventContainer === 'upper' ? this.unstable_valueUpper : this.value;\n    valueMain !== '' &&\n      this.dispatchEvent(\n        new CustomEvent((this.constructor as typeof CDSSlider).eventChange, {\n          bubbles: true,\n          composed: true,\n          detail: {\n            value: valueMain,\n            intermediate,\n          },\n        })\n      );\n  };\n\n  /**\n   * `true` if the check box should be disabled.\n   */\n  @property({ type: Boolean, reflect: true })\n  disabled = false;\n\n  /**\n   * \ttrue to specify if the control is required.\n   */\n  @property({ type: Boolean, reflect: true })\n  required = false;\n\n  /**\n   * \tWhether the slider should be read-only\n   */\n  @property({ type: Boolean, reflect: true })\n  readonly = false;\n\n  /**\n   * The label text.\n   */\n  @property({ attribute: 'label-text' })\n  labelText = '';\n\n  /**\n   * The label associated with the maximum value.\n   */\n  @property({ attribute: 'max-label', reflect: true })\n  maxLabel = '';\n\n  /**\n   * The label associated with the minimum value.\n   */\n  @property({ attribute: 'min-label', reflect: true })\n  minLabel = '';\n\n  /**\n   * Specify whether you want the underlying label to be visually hidden\n   */\n  @property({ attribute: 'hide-label', type: Boolean, reflect: true })\n  hideLabel = false;\n\n  /**\n   * The formatter for the text for maximum value.\n   * Should be changed upon the locale the UI is rendered with.\n   */\n  @property({ attribute: false })\n  formatMaxText = (max: string, maxLabel: string | undefined) =>\n    `${max}${maxLabel}`;\n\n  /**\n   * The formatter for the text for min/max value.\n   * Should be changed upon the locale the UI is rendered with.\n   */\n  @property({ attribute: false })\n  formatMinText = (min: string, minLabel: string | undefined) =>\n    `${min}${minLabel}`;\n\n  /**\n   * The maximum value.\n   */\n  @property({ type: Number, reflect: true })\n  get max() {\n    return this._max.toString();\n  }\n\n  set max(value) {\n    const { max: oldMax } = this;\n    this._max = value;\n    this.requestUpdate('max', oldMax);\n  }\n\n  /**\n   * The minimum value.\n   */\n  @property({ type: Number, reflect: true })\n  get min() {\n    return this._min.toString();\n  }\n\n  set min(value) {\n    const { min: oldMin } = this;\n    this._min = value;\n    this.requestUpdate('min', oldMin);\n  }\n\n  /**\n   * The form name.\n   */\n  @property()\n  name!: string;\n\n  /**\n   * true to specify if the control is invalid.\n   */\n  @property({ type: Boolean, reflect: true })\n  invalid = false;\n\n  /**\n   * Message which is displayed if the value is invalid.\n   */\n  @property({ attribute: 'invalid-text' })\n  invalidText = '';\n\n  /**\n   * true to specify if the control should display warn icon and text.\n   */\n  @property({ type: Boolean, reflect: true })\n  warn = false;\n\n  /**\n   * Provide the text that is displayed when the control is in warning state\n   */\n  @property({ attribute: 'warn-text' })\n  warnText = '';\n\n  /**\n   * Checks whether the input field is hidden or not\n   */\n  @property({ type: Boolean, attribute: 'hide-text-input', reflect: true })\n  hideTextInput = false;\n\n  /**\n   * The snapping step of the value.\n   */\n  @property({ type: Number, reflect: true })\n  get step() {\n    return this._step.toString();\n  }\n\n  set step(value) {\n    const { step: oldStep } = this;\n    this._step = value;\n    this.requestUpdate('step', oldStep);\n  }\n\n  /**\n   * A value determining how much the value should increase/decrease by Shift+arrow keys,\n   * which will be `(max - min) / stepMultiplier`.\n   */\n  @property({ type: Number, reflect: true, attribute: 'step-multiplier' })\n  get stepMultiplier() {\n    return this._stepMultiplier.toString();\n  }\n\n  set stepMultiplier(value) {\n    const { stepMultiplier: oldstepMultiplier } = this;\n    this._stepMultiplier = value;\n    this.requestUpdate('stepMultiplier', oldstepMultiplier);\n  }\n\n  /**\n   * The value.\n   */\n  @property({ type: Number })\n  value;\n\n  /**\n   * is slide input valid\n   */\n  @property({ type: Boolean })\n  isValid;\n  _getInputValidity(input) {\n    const inputElement = input?.shadowRoot?.querySelector('input');\n    if (this.invalid) {\n      return false;\n    }\n    if (input?.invalid) {\n      return false;\n    }\n    if (\n      inputElement?.valueAsNumber > Number(this.max) ||\n      inputElement?.valueAsNumber < Number(this.min)\n    ) {\n      return false;\n    }\n    return true;\n  }\n\n  _getInputWarnigState(input) {\n    if (\n      input?.valueAsNumber > Number(input.max) ||\n      input?.valueAsNumber < Number(input.min)\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    if (!this._throttledHandlePointermoveImpl) {\n      this._throttledHandlePointermoveImpl = throttle(\n        this._handlePointermoveImpl,\n        10\n      );\n    }\n  }\n\n  disconnectedCallback() {\n    if (this._throttledHandlePointermoveImpl) {\n      this._throttledHandlePointermoveImpl.cancel();\n      this._throttledHandlePointermoveImpl = null;\n    }\n    clearTimeout(this.dragCooldownTimeout as number);\n    super.disconnectedCallback();\n  }\n  updated() {\n    const sliderfilledTrack = this?.shadowRoot?.querySelector(\n      `.${prefix}--slider__filled-track`\n    ) as HTMLElement;\n    if (sliderfilledTrack) {\n      if (this.unstable_valueUpper || this.unstable_valueUpper === '') {\n        sliderfilledTrack.style.transform = this.unstable_valueUpper\n          ? `translate(${this._rate * 100}%, -50%) scaleX(${this._rateUpper - this._rate})`\n          : `translate(0%, -50%) scaleX(${this._rate})`;\n      } else {\n        sliderfilledTrack.style.transform = this.unstable_valueUpper\n          ? `translate(${this._rate * 100}%, -50%) scaleX(${this._rateUpper - this._rate})`\n          : `translate(0%, -50%) scaleX(${this._rate})`;\n      }\n    }\n  }\n  shouldUpdate(changedProperties) {\n    const inputs = this.querySelectorAll(\n      (this.constructor as typeof CDSSlider).selectorInput\n    ) as NodeListOf<CDSSliderInput>;\n    inputs.forEach((input, index) => {\n      if (changedProperties.has('disabled')) {\n        if (input) {\n          input.disabled = this.disabled;\n        }\n        if (this.disabled) {\n          this._dragging = false;\n        }\n      }\n      if (changedProperties.has('readonly')) {\n        if (input) {\n          input.readonly = this.readonly;\n        }\n        if (this.readonly) {\n          this._dragging = false;\n        }\n      }\n      if (changedProperties.has('invalid')) {\n        input.invalid = this.invalid;\n      }\n      if (changedProperties.has('hideTextInput')) {\n        input.hideTextInput = this.hideTextInput;\n      }\n      if (input) {\n        if (\n          (this.unstable_valueUpper || this.unstable_valueUpper === '') &&\n          index > 0\n        ) {\n          ['max', 'min', 'step', 'unstable_valueUpper'].forEach((name) => {\n            if (name === 'unstable_valueUpper') {\n              input.value = this.unstable_valueUpper;\n            } else if (name === 'min') {\n              input[name] = this.value;\n            } else {\n              input[name] = this[name];\n            }\n          });\n        } else {\n          ['max', 'min', 'step', 'value'].forEach((name) => {\n            if (this.unstable_valueUpper && name === 'max') {\n              input[name] = this.unstable_valueUpper;\n            } else {\n              input[name] = this[name];\n            }\n          });\n        }\n        if (\n          changedProperties.has('value') ||\n          changedProperties.has('invalid') ||\n          changedProperties.has('warn') ||\n          changedProperties.has('readonly')\n        ) {\n          this.isValid = this._getInputValidity(input);\n          if (!this.readonly && !this.isValid) {\n            input.invalid = true;\n          } else {\n            input.invalid = false;\n          }\n        }\n      }\n    });\n    return true;\n  }\n\n  render() {\n    const {\n      disabled,\n      formatMaxText,\n      formatMinText,\n      labelText,\n      hideLabel,\n      max,\n      min,\n      maxLabel,\n      minLabel,\n      readonly,\n      invalidText,\n      isValid,\n      warn,\n      warnText,\n      value,\n      unstable_valueUpper,\n      _rate: rate,\n      _rateUpper: rateUpper,\n      _handleClickLabel: handleClickLabel,\n      _handleKeydown: handleKeydown,\n      _handleClick: handleClick,\n      onDrag,\n      _endDrag: endDrag,\n    } = this;\n\n    const labelClasses = classMap({\n      [`${prefix}--label`]: true,\n      [`${prefix}--visually-hidden`]: hideLabel,\n      [`${prefix}--label--disabled`]: disabled,\n    });\n    const sliderClasses = classMap({\n      [`${prefix}--slider`]: true,\n      [`${prefix}--slider--disabled`]: disabled,\n      [`${prefix}--slider--readonly`]: readonly,\n    });\n    const thumbLowerClasses = classMap({\n      [`${prefix}--icon-tooltip`]:\n        unstable_valueUpper || unstable_valueUpper === '',\n      [`${prefix}--slider__thumb-wrapper`]:\n        unstable_valueUpper || unstable_valueUpper === '',\n      [`${prefix}--slider__thumb-wrapper--lower`]:\n        unstable_valueUpper || unstable_valueUpper === '',\n      [`${prefix}--slider__thumb`]: !(\n        unstable_valueUpper || unstable_valueUpper === ''\n      ),\n      [`${prefix}--slider__thumb-disabled`]: disabled,\n    });\n    const thumbUpperClasses = classMap({\n      [`${prefix}--icon-tooltip`]: true,\n      [`${prefix}--slider__thumb-wrapper`]: true,\n      [`${prefix}--slider__thumb-wrapper--upper`]: true,\n      [`${prefix}--slider__thumb-disabled`]: disabled,\n    });\n    return html`\n      <label class=\"${labelClasses}\" @click=\"${handleClickLabel}\">\n        <slot name=\"label-text\">${labelText}</slot>\n      </label>\n      <div class=\"${prefix}--slider-container\">\n        ${unstable_valueUpper || unstable_valueUpper === ''\n          ? html` <slot name=\"lower-input\"></slot>`\n          : ''}\n        <span class=\"${prefix}--slider__range-label\">\n          <slot name=\"min-text\">${formatMinText(min, minLabel)}</slot>\n        </span>\n        <div\n          @keydown=\"${handleKeydown}\"\n          @click=\"${handleClick}\"\n          @pointerup=\"${endDrag}\"\n          @pointerleave=\"${endDrag}\"\n          class=\"${sliderClasses}\"\n          tabindex=\"-1\"\n          role=\"presentation\">\n          <div\n            id=\"thumb\"\n            class=\"${thumbLowerClasses}\"\n            role=\"slider\"\n            tabindex=\"${!readonly ? 0 : -1}\"\n            aria-valuemax=\"${max}\"\n            aria-valuemin=\"${min}\"\n            aria-valuenow=\"${value}\"\n            style=\"left: ${rate * 100}%\"\n            @pointerdown=\"${onDrag}\">\n            ${(unstable_valueUpper || unstable_valueUpper === '') && !readonly\n              ? html`\n                  <div class=\"${prefix}--slider__thumb--lower\">\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      viewBox=\"0 0 16 24\"\n                      class=\"${prefix}--slider__thumb-icon ${prefix}--slider__thumb-icon--lower\">\n                      <path\n                        d=\"M15.08 6.46H16v11.08h-.92zM4.46 17.54c-.25 0-.46-.21-.46-.46V6.92a.465.465 0 0 1 .69-.4l8.77 5.08a.46.46 0 0 1 0 .8l-8.77 5.08c-.07.04-.15.06-.23.06Z\"></path>\n                      <path fill=\"none\" d=\"M-4 0h24v24H-4z\"></path>\n                    </svg>\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      viewBox=\"0 0 16 24\"\n                      class=\"${prefix}--slider__thumb-icon ${prefix}--slider__thumb-icon--lower cds--slider__thumb-icon--focus\">\n                      <path\n                        d=\"M15.08 6.46H16v11.08h-.92zM4.46 17.54c-.25 0-.46-.21-.46-.46V6.92a.465.465 0 0 1 .69-.4l8.77 5.08a.46.46 0 0 1 0 .8l-8.77 5.08c-.07.04-.15.06-.23.06Z\"></path>\n                      <path fill=\"none\" d=\"M-4 0h24v24H-4z\"></path>\n                      <path d=\"M15.08 0H16v6.46h-.92z\"></path>\n                      <path d=\"M0 0h.92v24H0zM15.08 0H16v24h-.92z\"></path>\n                      <path d=\"M0 .92V0h16v.92zM0 24v-.92h16V24z\"></path>\n                    </svg>\n                  </div>\n                `\n              : ``}\n          </div>\n          ${(unstable_valueUpper || unstable_valueUpper === '') && !readonly\n            ? html`\n                <div\n                  id=\"thumb-upper\"\n                  class=\"${thumbUpperClasses}\"\n                  role=\"slider\"\n                  tabindex=\"${!readonly ? 0 : -1}\"\n                  aria-valuemax=\"${max}\"\n                  aria-valuemin=\"${min}\"\n                  aria-valuenow=\"${unstable_valueUpper}\"\n                  style=\"left: ${rateUpper * 100}%\"\n                  @pointerdown=\"${onDrag}\">\n                  <div class=\"${prefix}--slider__thumb--upper\">\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      viewBox=\"0 0 16 24\"\n                      class=\"${prefix}--slider__thumb-icon ${prefix}--slider__thumb-icon--upper\">\n                      <path\n                        d=\"M0 6.46h.92v11.08H0zM11.54 6.46c.25 0 .46.21.46.46v10.15a.465.465 0 0 1-.69.4L2.54 12.4a.46.46 0 0 1 0-.8l8.77-5.08c.07-.04.15-.06.23-.06Z\"></path>\n                      <path fill=\"none\" d=\"M-4 0h24v24H-4z\"></path>\n                    </svg>\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      viewBox=\"0 0 16 24\"\n                      class=\"${prefix}--slider__thumb-icon ${prefix}--slider__thumb-icon--upper cds--slider__thumb-icon--focus\">\n                      <path\n                        d=\"M0 6.46h.92v11.08H0zM11.54 6.46c.25 0 .46.21.46.46v10.15a.465.465 0 0 1-.69.4L2.54 12.4a.46.46 0 0 1 0-.8l8.77-5.08c.07-.04.15-.06.23-.06Z\"></path>\n                      <path fill=\"none\" d=\"M-4 0h24v24H-4z\"></path>\n                      <path d=\"M.92 24H0v-6.46h.92z\"></path>\n                      <path d=\"M16 24h-.92V0H16zM.92 24H0V0h.92z\"></path>\n                      <path d=\"M16 23.08V24H0v-.92zM16 0v.92H0V0z\"></path>\n                    </svg>\n                  </div>\n                </div>\n              `\n            : html``}\n          <div id=\"track\" class=\"${prefix}--slider__track\"></div>\n          ${unstable_valueUpper || unstable_valueUpper === ''\n            ? html` <div class=\"${prefix}--slider__filled-track\"></div> `\n            : html` <div class=\"${prefix}-ce--slider__filled-track-container\">\n                <div class=\"${prefix}--slider__filled-track\"></div>\n              </div>`}\n        </div>\n        <span class=\"${prefix}--slider__range-label\">\n          <slot name=\"max-text\">${formatMaxText(max, maxLabel)}</slot>\n        </span>\n        <slot></slot>\n      </div>\n\n      ${!readonly && !isValid\n        ? html`\n            <div\n              class=\"${prefix}--slider__validation-msg ${prefix}--slider__validation-msg--invalid ${prefix}--form-requirement\">\n              ${invalidText}\n            </div>\n          `\n        : null}\n      ${!readonly && warn && isValid\n        ? html`<div\n            class=\"${prefix}--slider__validation-msg ${prefix}--form-requirement\">\n            ${warnText}\n          </div>`\n        : null}\n    `;\n  }\n\n  /**\n   * A selector that will return the `<input>` box got entering the value directly.\n   */\n  static get selectorInput() {\n    return `${prefix}-slider-input`;\n  }\n\n  /**\n   * The name of the custom event fired after the value is changed by user gesture.\n   */\n  static get eventChange() {\n    return `${prefix}-slider-changed`;\n  }\n\n  /**\n   * The name of the custom event fired after the value is changed in `<cds-slider-input>` by user gesture.\n   */\n  static get eventChangeInput() {\n    return `${prefix}-slider-input-changed`;\n  }\n\n  static shadowRootOptions = {\n    ...LitElement.shadowRootOptions,\n    delegatesFocus: true,\n  };\n  static styles = styles;\n}\n\nexport default CDSSlider;\n"],"names":["customElement"],"mappings":"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"}