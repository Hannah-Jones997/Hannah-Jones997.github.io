{"version":3,"file":"table-batch-actions.js","sources":["../../../src/components/data-table/table-batch-actions.ts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2019, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { LitElement, html } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport styles from './data-table.scss?lit';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\n\n/**\n * Table batch actions.\n *\n * @element cds-table-batch-actions\n * @fires cds-table-batch-actions-cancel-clicked - The custom event fired after the Cancel button is clicked.\n */\n@customElement(`${prefix}-table-batch-actions`)\nclass CDSTableBatchActions extends LitElement {\n  /**\n   * Handles `click` event on the Cancel button.\n   */\n  private _handleCancel() {\n    const { eventClickCancel } = this\n      .constructor as typeof CDSTableBatchActions;\n    this.dispatchEvent(\n      new CustomEvent(eventClickCancel, { bubbles: true, composed: true })\n    );\n  }\n\n  /**\n   * `true` if this batch actions bar should be active.\n   */\n  @property({ type: Boolean, reflect: true })\n  active = false;\n\n  /**\n   * The formatter for selected items. Should be changed upon the locale the UI is rendered with.\n   */\n  @property({ attribute: false })\n  formatSelectedItemsCount = ({ count }) =>\n    `${count} item${count <= 1 ? '' : 's'} selected`;\n\n  /**\n   * Numeric representation of the total number of items selected in a table.\n   * This number is used to derive the selection message.\n   */\n  @property({ type: Number, attribute: 'selected-rows-count' })\n  selectedRowsCount = 0;\n\n  firstUpdated() {\n    this.querySelectorAll(\n      (this.constructor as typeof CDSTableBatchActions).selectorButtons\n    ).forEach((e) => {\n      e.setAttribute('batch-action', '');\n    });\n  }\n\n  updated(changedProperties) {\n    if (changedProperties.has('active')) {\n      this.setAttribute('tabindex', `${this.active ? '' : '-1'}`);\n    }\n  }\n\n  render() {\n    const {\n      formatSelectedItemsCount,\n      selectedRowsCount,\n      _handleCancel: handleCancel,\n    } = this;\n    return html`\n      <div class=\"${prefix}--batch-summary\">\n        <p class=\"${prefix}--batch-summary__para\">\n          ${formatSelectedItemsCount({ count: selectedRowsCount })}\n        </p>\n      </div>\n      <div class=\"${prefix}--action-list\">\n        <slot></slot>\n        <button\n          class=\"${prefix}--btn ${prefix}--btn--primary ${prefix}--batch-summary__cancel\"\n          @click=${handleCancel}>\n          <slot name=\"cancel-button-content\">Cancel</slot>\n        </button>\n      </div>\n    `;\n  }\n\n  /**\n   * The CSS selector to find the action buttons.\n   */\n  static get selectorButtons() {\n    return `${prefix}-button`;\n  }\n\n  /**\n   * The name of the custom event fired after the Cancel button is clicked.\n   */\n  static get eventClickCancel() {\n    return `${prefix}-table-batch-actions-cancel-clicked`;\n  }\n\n  static styles = styles;\n}\n\nexport default CDSTableBatchActions;\n"],"names":["customElement"],"mappings":";;;;;;;;;;;;;;AAAA;;;;;AAKG;AAQH;;;;;AAKG;AAEH,IAAM,oBAAoB,GAA1B,MAAM,oBAAqB,SAAQ,UAAU,CAAA;AAA7C,IAAA,WAAA,GAAA;;AAYE;;AAEG;QAEH,IAAM,CAAA,MAAA,GAAG,KAAK;AAEd;;AAEG;QAEH,IAAwB,CAAA,wBAAA,GAAG,CAAC,EAAE,KAAK,EAAE,KACnC,CAAA,EAAG,KAAK,CAAA,KAAA,EAAQ,KAAK,IAAI,CAAC,GAAG,EAAE,GAAG,GAAG,CAAA,SAAA,CAAW;AAElD;;;AAGG;QAEH,IAAiB,CAAA,iBAAA,GAAG,CAAC;;AA7BrB;;AAEG;IACK,aAAa,GAAA;AACnB,QAAA,MAAM,EAAE,gBAAgB,EAAE,GAAG;AAC1B,aAAA,WAA0C;AAC7C,QAAA,IAAI,CAAC,aAAa,CAChB,IAAI,WAAW,CAAC,gBAAgB,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CACrE;;IAuBH,YAAY,GAAA;AACV,QAAA,IAAI,CAAC,gBAAgB,CAClB,IAAI,CAAC,WAA2C,CAAC,eAAe,CAClE,CAAC,OAAO,CAAC,CAAC,CAAC,KAAI;AACd,YAAA,CAAC,CAAC,YAAY,CAAC,cAAc,EAAE,EAAE,CAAC;AACpC,SAAC,CAAC;;AAGJ,IAAA,OAAO,CAAC,iBAAiB,EAAA;AACvB,QAAA,IAAI,iBAAiB,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;AACnC,YAAA,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAA,EAAG,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,IAAI,CAAA,CAAE,CAAC;;;IAI/D,MAAM,GAAA;QACJ,MAAM,EACJ,wBAAwB,EACxB,iBAAiB,EACjB,aAAa,EAAE,YAAY,GAC5B,GAAG,IAAI;AACR,QAAA,OAAO,IAAI,CAAA;oBACK,MAAM,CAAA;oBACN,MAAM,CAAA;AACd,UAAA,EAAA,wBAAwB,CAAC,EAAE,KAAK,EAAE,iBAAiB,EAAE,CAAC;;;oBAG9C,MAAM,CAAA;;;mBAGP,MAAM,CAAA,MAAA,EAAS,MAAM,CAAA,eAAA,EAAkB,MAAM,CAAA;mBAC7C,YAAY,CAAA;;;;KAI1B;;AAGH;;AAEG;AACH,IAAA,WAAW,eAAe,GAAA;QACxB,OAAO,CAAA,EAAG,MAAM,CAAA,OAAA,CAAS;;AAG3B;;AAEG;AACH,IAAA,WAAW,gBAAgB,GAAA;QACzB,OAAO,CAAA,EAAG,MAAM,CAAA,mCAAA,CAAqC;;;AAGhD,oBAAM,CAAA,MAAA,GAAG,MAAH;AAnEb,UAAA,CAAA;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE;AAC3B,CAAA,EAAA,oBAAA,CAAA,SAAA,EAAA,QAAA,EAAA,MAAA,CAAA;AAMf,UAAA,CAAA;AADC,IAAA,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE;AAEqB,CAAA,EAAA,oBAAA,CAAA,SAAA,EAAA,0BAAA,EAAA,MAAA,CAAA;AAOnD,UAAA,CAAA;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,qBAAqB,EAAE;AACtC,CAAA,EAAA,oBAAA,CAAA,SAAA,EAAA,mBAAA,EAAA,MAAA,CAAA;AA9BlB,oBAAoB,GAAA,UAAA,CAAA;AADzB,IAAAA,aAAa,CAAC,CAAA,EAAG,MAAM,CAAA,oBAAA,CAAsB;AACxC,CAAA,EAAA,oBAAoB,CAoFzB;AAED,6BAAe,oBAAoB;;;;"}