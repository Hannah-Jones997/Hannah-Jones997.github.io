{"version":3,"file":"number-input.js","sources":["../../../src/components/number-input/number-input.ts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2019, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { LitElement, html } from 'lit';\nimport { property, query } from 'lit/decorators.js';\nimport { classMap } from 'lit/directives/class-map.js';\nimport { prefix } from '../../globals/settings';\nimport WarningFilled16 from '@carbon/icons/lib/warning--filled/16.js';\nimport WarningAltFilled16 from '@carbon/icons/lib/warning--alt--filled/16.js';\nimport Add16 from '@carbon/icons/lib/add/16.js';\nimport Subtract16 from '@carbon/icons/lib/subtract/16.js';\nimport ifNonEmpty from '../../globals/directives/if-non-empty';\nimport { NUMBER_INPUT_VALIDATION_STATUS } from './defs';\nimport styles from './number-input.scss?lit';\nimport CDSTextInput, { INPUT_SIZE } from '../text-input/text-input';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\n\nexport { NUMBER_INPUT_VALIDATION_STATUS };\n\n/**\n * Number input.\n *\n * @element cds-number-input\n * @fires cds-number-input\n *   The name of the custom event fired after the value is changed upon a user gesture.\n * @slot helper-text - The helper text.\n * @slot label-text - The label text.\n * @slot validity-message - The validity message. If present and non-empty, this input shows the UI of its invalid state.\n */\n@customElement(`${prefix}-number-input`)\nclass CDSNumberInput extends CDSTextInput {\n  /**\n   * Handles `input` event on the `<input>` in the shadow DOM.\n   */\n  protected _handleInput(event: Event) {\n    const { target } = event;\n    const { value } = target as HTMLInputElement;\n    const direction =\n      this._value !== undefined && Number(value) > Number(this._value)\n        ? 'up'\n        : 'down';\n\n    this.dispatchEvent(\n      new CustomEvent((this.constructor as typeof CDSNumberInput).eventInput, {\n        bubbles: true,\n        composed: true,\n        cancelable: false,\n        detail: {\n          value,\n          direction,\n        },\n      })\n    );\n    super._handleInput(event);\n  }\n\n  /**\n   * Handles `click` event on the up button in the shadow DOM.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected _handleUserInitiatedStepDown(_: Event) {\n    const { _input: input } = this;\n    this.stepDown();\n    this.dispatchEvent(\n      new CustomEvent((this.constructor as typeof CDSNumberInput).eventInput, {\n        bubbles: true,\n        composed: true,\n        cancelable: false,\n        detail: {\n          value: input.value,\n          direction: 'down',\n        },\n      })\n    );\n  }\n\n  /**\n   * Handles `click` event on the down button in the shadow DOM.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  protected _handleUserInitiatedStepUp(_: Event) {\n    const { _input: input } = this;\n    this.stepUp();\n    this.dispatchEvent(\n      new CustomEvent((this.constructor as typeof CDSNumberInput).eventInput, {\n        bubbles: true,\n        composed: true,\n        cancelable: false,\n        detail: {\n          value: input.value,\n          direction: 'up',\n        },\n      })\n    );\n  }\n\n  /**\n   * Handles `focus` event on the `<input>` in the shadow DOM.\n   */\n  protected _handleFocus(event: FocusEvent) {\n    if (this.disableWheel) {\n      (event.target as HTMLInputElement).addEventListener(\n        'wheel',\n        this._preventWheel,\n        { passive: false }\n      );\n    }\n  }\n\n  /**\n   * Handles `blur` event on the `<input>` in the shadow DOM.\n   */\n  protected _handleBlur(event: FocusEvent) {\n    if (this.disableWheel) {\n      (event.target as HTMLInputElement).removeEventListener(\n        'wheel',\n        this._preventWheel\n      );\n    }\n  }\n\n  /**\n   * Prevents wheel events from changing the input value.\n   */\n  protected _preventWheel = (event: WheelEvent) => {\n    event.preventDefault();\n  };\n\n  /**\n   * The underlying input element\n   */\n  @query('input')\n  protected _input!: HTMLInputElement;\n\n  _getInputValidity() {\n    if (this.invalid) {\n      return false;\n    }\n\n    if (this.value === '') {\n      return this.allowEmpty;\n    }\n\n    if (\n      this._input?.valueAsNumber > Number(this.max) ||\n      this._input?.valueAsNumber < Number(this.min)\n    ) {\n      return false;\n    }\n\n    return true;\n  }\n\n  protected _min = '';\n\n  protected _max = '';\n\n  protected _step = '1';\n\n  /**\n   * The minimum value allowed in the input\n   */\n  @property({ reflect: true })\n  get min() {\n    return this._min.toString();\n  }\n\n  set min(value) {\n    const oldValue = this.min;\n    this._min = value;\n    this.requestUpdate('min', oldValue);\n  }\n\n  /**\n   * The maximum value allowed in the input\n   */\n  @property({ reflect: true })\n  get max() {\n    return this._max.toString();\n  }\n\n  set max(value) {\n    const oldValue = this.max;\n    this._max = value;\n    this.requestUpdate('max', oldValue);\n  }\n\n  /**\n   * The amount the value should increase or decrease by\n   */\n  @property({ reflect: true })\n  get step() {\n    return this._step.toString();\n  }\n\n  set step(value) {\n    const oldValue = this.step;\n    this._step = value;\n    this.requestUpdate('step', oldValue);\n  }\n\n  /**\n   * Provide a description for up/down icons that can be read by screen readers\n   */\n  @property({ attribute: 'icon-description' })\n  iconDescription = '';\n\n  /**\n   * Aria text for the button that increments the value\n   */\n  @property({ attribute: 'increment-button-assistive-text' })\n  incrementButtonAssistiveText = 'increase number input';\n\n  /**\n   * Aria text for the button that decrements the value\n   */\n  @property({ attribute: 'decrement-button-assistive-text' })\n  decrementButtonAssistiveText = 'decrease number input';\n\n  /**\n   * Specify whether you want the steppers to be hidden\n   */\n  @property({ type: Boolean, attribute: 'hide-steppers', reflect: true })\n  hideSteppers = false;\n\n  /**\n   * `true` to allow empty string.\n   */\n  @property({ type: Boolean, attribute: 'allow-empty', reflect: true })\n  allowEmpty = false;\n\n  /**\n   * Optional starting value for uncontrolled state\n   */\n  @property({ attribute: 'default-value' })\n  defaultValue = '';\n\n  /**\n   * Specify if the wheel functionality for the input should be disabled, or not\n   */\n  @property({ type: Boolean, attribute: 'disable-wheel', reflect: true })\n  disableWheel = false;\n\n  /**\n   * The input box size.\n   */\n  @property({ reflect: true })\n  size = INPUT_SIZE.MEDIUM;\n\n  /**\n   * Handles incrementing the value in the input\n   */\n  stepUp() {\n    this._input.stepUp();\n  }\n\n  /**\n   * Handles decrementing the value in the input\n   */\n  stepDown() {\n    this._input.stepDown();\n  }\n\n  render() {\n    const {\n      _handleInput: handleInput,\n      _handleUserInitiatedStepDown: handleUserInitiatedStepDown,\n      _handleUserInitiatedStepUp: handleUserInitiatedStepUp,\n      _handleFocus: handleFocus,\n      _handleBlur: handleBlur,\n    } = this;\n\n    const isValid = this._getInputValidity();\n\n    const invalidIcon = WarningFilled16({\n      class: `${prefix}--number__invalid`,\n    });\n\n    const warnIcon = WarningAltFilled16({\n      class: `${prefix}--number__invalid ${prefix}--number__invalid--warning`,\n    });\n\n    const normalizedProps = {\n      disabled: !this.readonly && this.disabled,\n      invalid: !this.readonly && !isValid,\n      warn: !this.readonly && isValid && this.warn,\n      'slot-name': '',\n      'slot-text': '',\n      icon: null,\n    };\n\n    const wrapperClasses = classMap({\n      [`${prefix}--number`]: true,\n      [`${prefix}--number--${this.size}`]: this.size,\n      [`${prefix}--number--nosteppers`]: this.hideSteppers,\n      [`${prefix}--number--readonly`]: this.readonly,\n    });\n\n    const inputWrapperClasses = classMap({\n      [`${prefix}--number__input-wrapper`]: true,\n      [`${prefix}--number__input-wrapper--warning`]: normalizedProps.warn,\n      [`${prefix}--number__input-wrapper--decorator`]: this._hasAILabel,\n    });\n\n    const labelClasses = classMap({\n      [`${prefix}--label`]: true,\n      [`${prefix}--label--disabled`]: normalizedProps.disabled,\n      [`${prefix}--visually-hidden`]: this.hideLabel,\n    });\n\n    const helperTextClasses = classMap({\n      [`${prefix}--form__helper-text`]: true,\n      [`${prefix}--form__helper-text--disabled`]: normalizedProps.disabled,\n    });\n\n    // Use defaultValue when value is not set\n    const inputValue = this.hasAttribute('value')\n      ? this._value\n      : this.defaultValue || this._value;\n\n    const incrementButton = html`\n      <button\n        class=\"${prefix}--number__control-btn up-icon\"\n        aria-label=\"${this.iconDescription ||\n        this.incrementButtonAssistiveText}\"\n        aria-live=\"polite\"\n        aria-atomic=\"true\"\n        type=\"button\"\n        ?disabled=${normalizedProps.disabled}\n        @click=${handleUserInitiatedStepUp}>\n        ${Add16()}\n      </button>\n      <div class=\"${prefix}--number__rule-divider\"></div>\n    `;\n    const decrementButton = html`\n      <button\n        class=\"${prefix}--number__control-btn down-icon\"\n        aria-label=\"${this.iconDescription ||\n        this.decrementButtonAssistiveText}\"\n        aria-live=\"polite\"\n        aria-atomic=\"true\"\n        type=\"button\"\n        ?disabled=${normalizedProps.disabled}\n        @click=${handleUserInitiatedStepDown}>\n        ${Subtract16()}\n      </button>\n      <div class=\"${prefix}--number__rule-divider\"></div>\n    `;\n\n    const input = html`\n      <input\n        autocomplete=\"${this.autocomplete}\"\n        ?autofocus=\"${this.autofocus}\"\n        ?data-invalid=\"${normalizedProps.invalid}\"\n        ?disabled=\"${normalizedProps.disabled}\"\n        id=\"input\"\n        name=\"${ifNonEmpty(this.name)}\"\n        pattern=\"${ifNonEmpty(this.pattern)}\"\n        ?readonly=\"${this.readonly}\"\n        ?required=\"${this.required}\"\n        type=\"number\"\n        .value=\"${inputValue}\"\n        @input=\"${handleInput}\"\n        @focus=\"${handleFocus}\"\n        @blur=\"${handleBlur}\"\n        min=\"${ifNonEmpty(this.min)}\"\n        max=\"${ifNonEmpty(this.max)}\"\n        step=\"${ifNonEmpty(this.step)}\"\n        role=\"alert\"\n        aria-atomic=\"true\" />\n    `;\n\n    if (normalizedProps.invalid) {\n      normalizedProps.icon = invalidIcon;\n      normalizedProps['slot-name'] = 'invalid-text';\n      normalizedProps['slot-text'] = this.invalidText;\n    } else if (normalizedProps.warn) {\n      normalizedProps.icon = warnIcon;\n      normalizedProps['slot-name'] = 'warn-text';\n      normalizedProps['slot-text'] = this.warnText;\n    }\n\n    return html`\n      <div class=\"${wrapperClasses}\" ?data-invalid=${normalizedProps.invalid}>\n        <label class=\"${labelClasses}\" for=\"input\">\n          <slot name=\"label-text\"> ${this.label} </slot>\n        </label>\n        <div class=\"${inputWrapperClasses}\">\n          ${normalizedProps.icon} ${input}\n          <slot name=\"ai-label\" @slotchange=\"${this._handleSlotChange}\"></slot>\n          <slot name=\"slug\" @slotchange=\"${this._handleSlotChange}\"></slot>\n          <div class=\"${prefix}--number__controls\">\n            ${!this.hideSteppers\n              ? html`${decrementButton} ${incrementButton}`\n              : null}\n          </div>\n        </div>\n        <div\n          class=\"${helperTextClasses}\"\n          ?hidden=\"${normalizedProps.invalid || normalizedProps.warn}\">\n          <slot name=\"helper-text\"> ${this.helperText} </slot>\n        </div>\n        <div\n          class=\"${prefix}--form-requirement\"\n          ?hidden=\"${!normalizedProps.invalid && !normalizedProps.warn}\">\n          <slot name=\"${normalizedProps['slot-name']}\">\n            ${normalizedProps['slot-text']}\n          </slot>\n        </div>\n      </div>\n    `;\n  }\n\n  /**\n   * The name of the custom event fired after the value is changed upon a user gesture.\n   */\n  static get eventInput() {\n    return `${prefix}-number-input`;\n  }\n\n  static shadowRootOptions = {\n    ...LitElement.shadowRootOptions,\n    delegatesFocus: true,\n  };\n  static styles = styles;\n}\n\nexport default CDSNumberInput;\n"],"names":["customElement"],"mappings":"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"}