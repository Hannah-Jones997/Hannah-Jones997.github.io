{"version":3,"file":"form.js","sources":["../../../src/globals/mixins/form.ts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2019, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport on from './on';\nimport Handle from '../internal/handle';\n\n/**\n * @param Base The base class.\n * @returns A mix-in to handle `formdata` event on the containing form.\n */\nconst FormMixin = <T extends Constructor<HTMLElement>>(Base: T) => {\n  /**\n   * A mix-in class to handle `formdata` event on the containing form.\n   */\n  abstract class FormMixinImpl extends Base {\n    /**\n     * The handle for `formdata` event listener on the containing form.\n     *\n     * @private\n     */\n    _hFormdata: Handle | null = null; // Not using TypeScript `private` due to: microsoft/TypeScript#17744\n\n    /**\n     * Handles `formdata` event.\n     *\n     * @param event The event.\n     */\n    abstract _handleFormdata(event: Event): void;\n\n    connectedCallback() {\n      // @ts-ignore\n      super.connectedCallback();\n      const form = this.closest('form');\n      if (form) {\n        this._hFormdata = on(form, 'formdata', this._handleFormdata.bind(this));\n      }\n    }\n\n    disconnectedCallback() {\n      if (this._hFormdata) {\n        this._hFormdata = this._hFormdata.release();\n      }\n      // @ts-ignore\n      super.disconnectedCallback();\n    }\n  }\n  return FormMixinImpl;\n};\n\nexport default FormMixin;\n"],"names":[],"mappings":";;;;;;;;;AAAA;;;;;AAKG;AAKH;;;AAGG;AACH,MAAM,SAAS,GAAG,CAAqC,IAAO,KAAI;AAChE;;AAEG;IACH,MAAe,aAAc,SAAQ,IAAI,CAAA;AAAzC,QAAA,WAAA,GAAA;;AACE;;;;AAIG;AACH,YAAA,IAAA,CAAA,UAAU,GAAkB,IAAI,CAAC;;QASjC,iBAAiB,GAAA;;YAEf,KAAK,CAAC,iBAAiB,EAAE;YACzB,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;YACjC,IAAI,IAAI,EAAE;AACR,gBAAA,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;;QAI3E,oBAAoB,GAAA;AAClB,YAAA,IAAI,IAAI,CAAC,UAAU,EAAE;gBACnB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE;;;YAG7C,KAAK,CAAC,oBAAoB,EAAE;;AAE/B;AACD,IAAA,OAAO,aAAa;AACtB;;;;"}