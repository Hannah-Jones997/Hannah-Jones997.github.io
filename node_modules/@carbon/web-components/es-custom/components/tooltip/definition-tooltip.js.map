{"version":3,"file":"definition-tooltip.js","sources":["../../../src/components/tooltip/definition-tooltip.ts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2019, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { html, LitElement } from 'lit';\nimport { property, state } from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport { POPOVER_ALIGNMENT } from '../popover/defs';\nimport '../popover/index';\nimport styles from './tooltip.scss?lit';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\n\n/**\n * Definition tooltip.\n *\n * @element cds-custom-definition-tooltip\n */\n@customElement(`${prefix}-definition-tooltip`)\nclass CDSDefinitionTooltip extends LitElement {\n  /**\n   * Specify how the trigger should align with the tooltip\n   */\n  @property({ reflect: true, type: POPOVER_ALIGNMENT })\n  align = 'bottom';\n\n  /**\n   * Will auto-align Definition Tooltip. This prop is currently experimental and is subject to future changes.\n   */\n  @property({ type: Boolean, reflect: true })\n  autoalign = false;\n\n  /**\n   * Specify whether the tooltip should be open when it first renders\n   */\n  @property({ type: Boolean, reflect: true, attribute: 'default-open' })\n  defaultOpen = false;\n\n  /**\n   * Specifies whether the `DefinitionTooltip` should open on hover or not\n   */\n  @property({ reflect: true, type: Boolean, attribute: 'open-on-hover' })\n  openOnHover = false;\n\n  @state()\n  open = false;\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    if (this.hasAttribute('default-open')) {\n      this.open = true;\n    }\n  }\n\n  protected _handleBlur() {\n    this.open = false;\n  }\n\n  protected _handleMouseDown() {\n    this.open = !this.open;\n  }\n\n  protected _handleKeyDown(event: KeyboardEvent) {\n    const { key } = event;\n\n    if (this.open && (key === 'Esc' || key === 'Escape')) {\n      event.stopPropagation();\n      this.open = false;\n    }\n  }\n\n  protected _handleHover() {\n    if (this.openOnHover && !this.open) {\n      this.open = true;\n    } else {\n      this.open = false;\n    }\n  }\n\n  protected _handleFocus() {\n    this.open = true;\n  }\n\n  render() {\n    const { align, open } = this;\n\n    return html`\n      <cds-custom-popover\n        @mouseenter=${this._handleHover}\n        @mouseleave=${this._handleHover}\n        highContrast\n        dropShadow=${false}\n        align=${align}\n        .open=${open}>\n        <button\n          @focus=${this._handleFocus}\n          @blur=${this._handleBlur}\n          @mousedown=${this._handleMouseDown}\n          @keydown=${this._handleKeyDown}\n          aria-expanded=${open}\n          part=\"definition-term\"\n          class=\"${prefix}--definition-term\">\n          <slot></slot>\n        </button>\n        <cds-custom-popover-content>\n          <slot name=\"definition\"></slot>\n        </cds-custom-popover-content>\n      </cds-custom-popover>\n    `;\n  }\n\n  static styles = styles;\n}\n\nexport default CDSDefinitionTooltip;\n"],"names":["customElement"],"mappings":"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"}