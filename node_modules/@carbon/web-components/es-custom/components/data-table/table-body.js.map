{"version":3,"file":"table-body.js","sources":["../../../src/components/data-table/table-body.ts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2019, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { LitElement, html } from 'lit';\nimport { property, query } from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport CDSTableRow from './table-row';\nimport styles from './data-table.scss?lit';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\n\n/**\n * Data table body.\n *\n * @element cds-custom-table-body\n */\n@customElement(`${prefix}-table-body`)\nclass CDSTableBody extends LitElement {\n  /**\n   * The `<slot>` element in the shadow DOM.\n   */\n  @query('slot')\n  private _slotNode!: HTMLSlotElement;\n\n  /**\n   * Updates `even`/`odd` properties of the child `<cds-custom-table-row>`s.\n   */\n  private _updateZebra() {\n    const { useZebraStyles, _slotNode: slotNode } = this;\n    slotNode.assignedNodes().forEach((node) => {\n      if (node.nodeType === Node.ELEMENT_NODE) {\n        const even = (node as HTMLElement).matches('*:nth-of-type(even)');\n        (node as CDSTableRow).even = useZebraStyles && even;\n        (node as CDSTableRow).odd = useZebraStyles && !even;\n      }\n    });\n  }\n\n  /**\n   * Handles `slotchange` event in the `<slot>` element in the shadow DOM.\n   */\n  private _handleSlotChange = () => {\n    this._updateZebra();\n    this.dispatchEvent(\n      new CustomEvent(\n        (this.constructor as typeof CDSTableBody).eventTableBodyContentChange,\n        { bubbles: true, cancelable: false }\n      )\n    );\n  };\n\n  /**\n   * TODO: Uncomment when Carbon fully implements sticky header\n   * Specify whether the header should be sticky.\n   * Still experimental: may not work with every combination of table props\n   */\n  // @property({ type: Boolean, reflect: true, attribute: 'sticky-header' })\n  // stickyHeader = false;\n\n  /**\n   * The color scheme.\n   */\n  @property({ type: Boolean, reflect: true, attribute: 'use-zebra-styles' })\n  useZebraStyles = false;\n\n  connectedCallback() {\n    if (!this.hasAttribute('role')) {\n      this.setAttribute('role', 'rowgroup');\n    }\n    super.connectedCallback();\n  }\n\n  updated(changedProperties) {\n    if (changedProperties.has('useZebraStyles')) {\n      this._updateZebra();\n    }\n  }\n\n  render() {\n    const { _handleSlotChange: handleSlotChange } = this;\n    return html` <slot @slotchange=\"${handleSlotChange}\"></slot> `;\n  }\n\n  /**\n   * The name of the custom event fired after the body slot content changes\n   */\n  static get eventTableBodyContentChange() {\n    return `${prefix}-table-body-content-change`;\n  }\n\n  static styles = styles;\n}\n\nexport default CDSTableBody;\n"],"names":["customElement"],"mappings":";;;;;;;;;;;;;;AAAA;;;;;AAKG;AASH;;;;AAIG;AAEH,IAAM,YAAY,GAAlB,MAAM,YAAa,SAAQ,UAAU,CAAA;AAArC,IAAA,WAAA,GAAA;;AAqBE;;AAEG;QACK,IAAiB,CAAA,iBAAA,GAAG,MAAK;YAC/B,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,aAAa,CAChB,IAAI,WAAW,CACZ,IAAI,CAAC,WAAmC,CAAC,2BAA2B,EACrE,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,CACrC,CACF;AACH,SAAC;AAED;;;;AAIG;;;AAIH;;AAEG;QAEH,IAAc,CAAA,cAAA,GAAG,KAAK;;AAvCtB;;AAEG;IACK,YAAY,GAAA;QAClB,MAAM,EAAE,cAAc,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,IAAI;QACpD,QAAQ,CAAC,aAAa,EAAE,CAAC,OAAO,CAAC,CAAC,IAAI,KAAI;YACxC,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,YAAY,EAAE;gBACvC,MAAM,IAAI,GAAI,IAAoB,CAAC,OAAO,CAAC,qBAAqB,CAAC;AAChE,gBAAA,IAAoB,CAAC,IAAI,GAAG,cAAc,IAAI,IAAI;AAClD,gBAAA,IAAoB,CAAC,GAAG,GAAG,cAAc,IAAI,CAAC,IAAI;;AAEvD,SAAC,CAAC;;IA8BJ,iBAAiB,GAAA;QACf,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE;AAC9B,YAAA,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,UAAU,CAAC;;QAEvC,KAAK,CAAC,iBAAiB,EAAE;;AAG3B,IAAA,OAAO,CAAC,iBAAiB,EAAA;AACvB,QAAA,IAAI,iBAAiB,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAAE;YAC3C,IAAI,CAAC,YAAY,EAAE;;;IAIvB,MAAM,GAAA;AACJ,QAAA,MAAM,EAAE,iBAAiB,EAAE,gBAAgB,EAAE,GAAG,IAAI;AACpD,QAAA,OAAO,IAAI,CAAA,CAAuB,oBAAA,EAAA,gBAAgB,YAAY;;AAGhE;;AAEG;AACH,IAAA,WAAW,2BAA2B,GAAA;QACpC,OAAO,CAAA,EAAG,MAAM,CAAA,0BAAA,CAA4B;;;AAGvC,YAAM,CAAA,MAAA,GAAG,MAAH;AApEL,UAAA,CAAA;IADP,KAAK,CAAC,MAAM;AACuB,CAAA,EAAA,YAAA,CAAA,SAAA,EAAA,WAAA,EAAA,MAAA,CAAA;AAyCpC,UAAA,CAAA;AADC,IAAA,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,kBAAkB,EAAE;AAClD,CAAA,EAAA,YAAA,CAAA,SAAA,EAAA,gBAAA,EAAA,MAAA,CAAA;AA9CnB,YAAY,GAAA,UAAA,CAAA;AADjB,IAAAA,aAAa,CAAC,CAAA,EAAG,MAAM,CAAA,WAAA,CAAa;AAC/B,CAAA,EAAA,YAAY,CA0EjB;AAED,qBAAe,YAAY;;;;"}