{"version":3,"file":"side-panel.js","sources":["../../../src/components/side-panel/side-panel.ts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2023, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { LitElement, html } from 'lit';\nimport {\n  property,\n  query,\n  queryAssignedElements,\n  state,\n} from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport HostListener from '../../globals/decorators/host-listener';\nimport HostListenerMixin from '../../globals/mixins/host-listener';\nimport { SIDE_PANEL_SIZE, SIDE_PANEL_PLACEMENT } from './defs';\nimport { selectorTabbable } from '../../globals/settings';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\nimport ArrowLeft16 from '@carbon/icons/lib/arrow--left/16.js';\nimport Close20 from '@carbon/icons/lib/close/20.js';\nimport { moderate02 } from '@carbon/motion';\nimport '../button/index';\nimport '../icon-button/index';\nimport '../layer/index';\nimport Handle from '../../globals/internal/handle';\nimport '../button/button-set-base';\n\nexport { SIDE_PANEL_SIZE, SIDE_PANEL_PLACEMENT };\n\n// eslint-disable-next-line no-bitwise\nconst PRECEDING =\n  Node.DOCUMENT_POSITION_PRECEDING | Node.DOCUMENT_POSITION_CONTAINS;\n// eslint-disable-next-line no-bitwise\nconst FOLLOWING =\n  Node.DOCUMENT_POSITION_FOLLOWING | Node.DOCUMENT_POSITION_CONTAINED_BY;\n\nconst blockClass = `${prefix}--side-panel`;\nconst blockClassActionSet = `${prefix}--action-set`;\n\n/**\n * Observes resize of the given element with the given resize observer.\n *\n * @param observer The resize observer.\n * @param elem The element to observe the resize.\n */\nconst observeResize = (observer: ResizeObserver, elem: Element) => {\n  if (!elem) {\n    return null;\n  }\n  observer.observe(elem);\n  return {\n    release() {\n      observer.unobserve(elem);\n      return null;\n    },\n  } as Handle;\n};\n\n/**\n * Tries to focus on the given elements and bails out if one of them is successful.\n *\n * @param elems The elements.\n * @param reverse `true` to go through the list in reverse order.\n * @returns `true` if one of the attempts is successful, `false` otherwise.\n */\nfunction tryFocusElems(elems: NodeListOf<HTMLElement>, reverse: boolean) {\n  if (!reverse) {\n    for (let i = 0; i < elems.length; ++i) {\n      const elem = elems[i];\n      elem.focus();\n      if (elem.ownerDocument!.activeElement === elem) {\n        return true;\n      }\n    }\n  } else {\n    for (let i = elems.length - 1; i >= 0; --i) {\n      const elem = elems[i];\n      elem.focus();\n      if (elem.ownerDocument!.activeElement === elem) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n/**\n * SidePanel.\n *\n * @deprecated Use Carbon for IBM Products `side-panel` component.\n *   This component has been deprecated in `@carbon/web-components` and will instead be maintained\n *   in the Carbon for IBM Products library:\n *   https://github.com/carbon-design-system/ibm-products/tree/main/packages/ibm-products-web-components\n * @element cds-custom-side-panel\n * @csspart dialog The dialog.\n * @fires cds-custom-side-panel-beingclosed\n *   The custom event fired before this side-panel is being closed upon a user gesture.\n *   Cancellation of this event stops the user-initiated action of closing this side-panel.\n * @fires cds-custom-side-panel-closed - The custom event fired after this side-panel is closed upon a user gesture.\n * @fires cds-custom-side-panel-navigate-back - custom event fired when clicking navigate back (available when step > 0)\n */\n@customElement(`${prefix}-side-panel`)\nclass CDSSidePanel extends HostListenerMixin(LitElement) {\n  /**\n   * The handle for observing resize of the parent element of this element.\n   */\n  private _hObserveResize: Handle | null = null;\n\n  /**\n   * The element that had focus before this side-panel gets open.\n   */\n  private _launcher: Element | null = null;\n\n  /**\n   * Node to track focus going outside of side-panel content.\n   */\n  @query('#start-sentinel')\n  private _startSentinelNode!: HTMLAnchorElement;\n\n  /**\n   * Node to track focus going outside of side-panel content.\n   */\n  @query('#end-sentinel')\n  private _endSentinelNode!: HTMLAnchorElement;\n\n  /**\n   * Node to track side panel.\n   */\n  @query(`.${blockClass}`)\n  private _sidePanel!: HTMLDivElement;\n\n  @query(`.${blockClass}__animated-scroll-wrapper`)\n  private _animateScrollWrapper?: HTMLElement;\n\n  @query(`.${blockClass}__label-text`)\n  private _label!: HTMLElement;\n\n  @query(`.${blockClass}__title-text`)\n  private _title!: HTMLElement;\n\n  @query(`.${blockClass}__subtitle-text`)\n  private _subtitle!: HTMLElement;\n\n  @query(`.${blockClass}__inner-content`)\n  private _innerContent!: HTMLElement;\n\n  @queryAssignedElements({ slot: 'actions', selector: `${prefix}-button` })\n  private _actions!: Array<HTMLElement>;\n\n  @state()\n  _doAnimateTitle = true;\n\n  @state()\n  _isOpen = false;\n\n  @state()\n  _containerScrollTop = -16;\n\n  @state()\n  _hasSubtitle = false;\n\n  @state()\n  _hasSlug = false;\n\n  @state()\n  _hasActionToolbar = false;\n\n  @state()\n  _actionsCount = 0;\n\n  @state()\n  _slugCloseSize = 'sm';\n\n  /**\n   * Handles `blur` event on this element.\n   *\n   * @param event The event.\n   * @param event.target The event target.\n   * @param event.relatedTarget The event relatedTarget.\n   */\n  @HostListener('shadowRoot:focusout')\n  // @ts-ignore: The decorator refers to this method but TS thinks this method is not referred to\n  private _handleBlur = async ({ target, relatedTarget }: FocusEvent) => {\n    const {\n      open,\n      _startSentinelNode: startSentinelNode,\n      _endSentinelNode: endSentinelNode,\n    } = this;\n\n    const oldContains = target !== this && this.contains(target as Node);\n    const currentContains =\n      relatedTarget !== this &&\n      (this.contains(relatedTarget as Node) ||\n        (this.shadowRoot?.contains(relatedTarget as Node) &&\n          relatedTarget !== (startSentinelNode as Node) &&\n          relatedTarget !== (endSentinelNode as Node)));\n\n    // Performs focus wrapping if _all_ of the following is met:\n    // * This side-panel is open\n    // * The viewport still has focus\n    // * SidePanel body used to have focus but no longer has focus\n    const { selectorTabbable: selectorTabbableForSidePanel } = this\n      .constructor as typeof CDSSidePanel;\n\n    if (open && relatedTarget && oldContains && !currentContains) {\n      const comparisonResult = (target as Node).compareDocumentPosition(\n        relatedTarget as Node\n      );\n      // eslint-disable-next-line no-bitwise\n      if (relatedTarget === startSentinelNode || comparisonResult & PRECEDING) {\n        await (this.constructor as typeof CDSSidePanel)._delay();\n        if (\n          !tryFocusElems(\n            this.querySelectorAll(selectorTabbableForSidePanel),\n            true\n          ) &&\n          relatedTarget !== this\n        ) {\n          this.focus();\n        }\n      }\n      // eslint-disable-next-line no-bitwise\n      else if (\n        relatedTarget === endSentinelNode ||\n        comparisonResult & FOLLOWING\n      ) {\n        await (this.constructor as typeof CDSSidePanel)._delay();\n        if (\n          !tryFocusElems(\n            this.querySelectorAll(selectorTabbableForSidePanel),\n            true\n          )\n        ) {\n          this.focus();\n        }\n      }\n    }\n  };\n\n  @HostListener('document:keydown')\n  // @ts-ignore: The decorator refers to this method but TS thinks this method is not referred to\n  private _handleKeydown = ({ key, target }: KeyboardEvent) => {\n    if (key === 'Esc' || key === 'Escape') {\n      this._handleUserInitiatedClose(target);\n    }\n  };\n\n  private _reducedMotion =\n    typeof window !== 'undefined' && window?.matchMedia\n      ? window.matchMedia('(prefers-reduced-motion: reduce)')\n      : { matches: true };\n\n  /**\n   * Handles `click` event on the side-panel container.\n   *\n   * @param event The event.\n   */\n  private _handleClickOnOverlay(event: MouseEvent) {\n    if (!this.preventCloseOnClickOutside) {\n      this._handleUserInitiatedClose(event.target);\n    }\n  }\n\n  /**\n   * Handles `click` event on the side-panel container.\n   *\n   * @param event The event.\n   */\n  private _handleCloseClick(event: MouseEvent) {\n    this._handleUserInitiatedClose(event.target);\n  }\n\n  /**\n   * Handles user-initiated close request of this side-panel.\n   *\n   * @param triggeredBy The element that triggered this close request.\n   */\n  private _handleUserInitiatedClose(triggeredBy: EventTarget | null) {\n    if (this.open) {\n      const init = {\n        bubbles: true,\n        cancelable: true,\n        composed: true,\n        detail: {\n          triggeredBy,\n        },\n      };\n      if (\n        this.dispatchEvent(\n          new CustomEvent(\n            (this.constructor as typeof CDSSidePanel).eventBeforeClose,\n            init\n          )\n        )\n      ) {\n        this.open = false;\n        this.dispatchEvent(\n          new CustomEvent(\n            (this.constructor as typeof CDSSidePanel).eventClose,\n            init\n          )\n        );\n      }\n    }\n  }\n\n  private _handleNavigateBack(triggeredBy: EventTarget | null) {\n    this.dispatchEvent(\n      new CustomEvent(\n        (this.constructor as typeof CDSSidePanel).eventNavigateBack,\n        {\n          composed: true,\n          detail: {\n            triggeredBy,\n          },\n        }\n      )\n    );\n  }\n\n  private _adjustPageContent = () => {\n    // sets/resets styles based on slideIn property and selectorPageContent;\n    if (this.selectorPageContent) {\n      const pageContentEl: HTMLElement | null = document.querySelector(\n        this.selectorPageContent\n      );\n\n      if (pageContentEl) {\n        const newValues = {\n          marginInlineStart: '',\n          marginInlineEnd: '',\n          inlineSize: '',\n          transition: this._reducedMotion.matches\n            ? 'none'\n            : `all ${moderate02}`,\n          transitionProperty: 'margin-inline-start, margin-inline-end',\n        };\n        if (this.open) {\n          newValues.inlineSize = 'auto';\n          if (this.placement === 'left') {\n            newValues.marginInlineStart = `${this?._sidePanel?.offsetWidth}px`;\n          } else {\n            newValues.marginInlineEnd = `${this?._sidePanel?.offsetWidth}px`;\n          }\n        }\n\n        Object.keys(newValues).forEach((key) => {\n          pageContentEl.style[key] = newValues[key];\n        });\n      }\n    }\n  };\n\n  private _checkSetOpen = () => {\n    const { _sidePanel: sidePanel } = this;\n    if (sidePanel && this._isOpen) {\n      if (this._reducedMotion) {\n        this._isOpen = false;\n      } else {\n        // wait until the side panel has transitioned off the screen to remove\n        sidePanel.addEventListener('transitionend', () => {\n          this._isOpen = false;\n        });\n      }\n    } else {\n      // allow the html to render before animating in the side panel\n      this._isOpen = this.open;\n    }\n  };\n\n  private _checkUpdateIconButtonSizes = () => {\n    const slug = this.querySelector(`${prefix}-slug`);\n    const otherButtons = this?.shadowRoot?.querySelectorAll(\n      '#nav-back-button, #close-button'\n    );\n\n    let iconButtonSize = 'sm';\n\n    if (slug || otherButtons?.length) {\n      const actions = this?.querySelectorAll?.(\n        `${prefix}-button[slot='actions']`\n      );\n\n      if (actions?.length && /l/.test(this.size)) {\n        iconButtonSize = 'md';\n      }\n    }\n\n    if (slug) {\n      slug?.setAttribute('size', iconButtonSize);\n    }\n\n    if (otherButtons) {\n      [...otherButtons].forEach((btn) => {\n        btn.setAttribute('size', iconButtonSize);\n      });\n    }\n  };\n\n  private _handleSlugChange(e: Event) {\n    this._checkUpdateIconButtonSizes();\n    const childItems = (e.target as HTMLSlotElement).assignedElements();\n\n    this._hasSlug = childItems.length > 0;\n  }\n\n  private _handleSubtitleChange(e: Event) {\n    const target = e.target as HTMLSlotElement;\n    const subtitle = target?.assignedElements();\n\n    this._hasSubtitle = subtitle.length > 0;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  private _handleActionToolbarChange(e: Event) {\n    const target = e.target as HTMLSlotElement;\n    const toolbarActions = target?.assignedElements();\n\n    this._hasActionToolbar = toolbarActions && toolbarActions.length > 0;\n\n    if (this._hasActionToolbar) {\n      for (const toolbarAction of toolbarActions) {\n        // toolbar actions size should always be sm\n        toolbarAction.setAttribute('size', 'sm');\n      }\n    }\n  }\n\n  private _checkUpdateActionSizes = () => {\n    if (this._actions) {\n      for (let i = 0; i < this._actions.length; i++) {\n        this._actions[i].setAttribute(\n          'size',\n          this.condensedActions ? 'lg' : 'xl'\n        );\n      }\n    }\n  };\n\n  private _maxActions = 3;\n  private _handleActionsChange(e: Event) {\n    const target = e.target as HTMLSlotElement;\n    const actions = target?.assignedElements();\n\n    // update slug size\n    this._checkUpdateIconButtonSizes();\n\n    const actionsCount = actions?.length ?? 0;\n    if (actionsCount > this._maxActions) {\n      this._actionsCount = this._maxActions;\n      if (process.env.NODE_ENV === 'development') {\n        console.error(`Too many side-panel actions, max ${this._maxActions}.`);\n      }\n    } else {\n      this._actionsCount = actionsCount;\n    }\n\n    for (let i = 0; i < actions?.length; i++) {\n      if (i + 1 > this._maxActions) {\n        // hide excessive side panel actions\n        actions[i].setAttribute('hidden', 'true');\n        actions[i].setAttribute(\n          `data-actions-limit-${this._maxActions}-exceeded`,\n          `${actions.length}`\n        );\n      } else {\n        actions[i].classList.add(`${blockClassActionSet}__action-button`);\n      }\n    }\n    this._checkUpdateActionSizes();\n  }\n\n  private _checkSetDoAnimateTitle = () => {\n    let canDoAnimateTitle = false;\n\n    if (\n      this._sidePanel &&\n      this.open &&\n      this.animateTitle &&\n      this?.title?.length &&\n      !this._reducedMotion.matches\n    ) {\n      const scrollAnimationDistance = this._getScrollAnimationDistance();\n      // used to calculate the header moves\n      this?._sidePanel?.style?.setProperty(\n        `--${blockClass}--scroll-animation-distance`,\n        `${scrollAnimationDistance}`\n      );\n\n      let scrollEl = this._animateScrollWrapper;\n      if (!scrollEl && this.animateTitle && !this._doAnimateTitle) {\n        scrollEl = this._innerContent;\n      }\n\n      if (scrollEl) {\n        const innerComputed = window?.getComputedStyle(this._innerContent);\n        const innerPaddingHeight = innerComputed\n          ? parseFloat(innerComputed?.paddingTop) +\n            parseFloat(innerComputed?.paddingBottom)\n          : 0;\n\n        canDoAnimateTitle =\n          (!!this.labelText || !!this._hasActionToolbar || this._hasSubtitle) &&\n          scrollEl.scrollHeight - scrollEl.clientHeight >=\n            scrollAnimationDistance + innerPaddingHeight;\n      }\n    }\n\n    this._doAnimateTitle = canDoAnimateTitle;\n  };\n\n  /**\n   * The `ResizeObserver` instance for observing element resizes for re-positioning floating menu position.\n   */\n  // TODO: Wait for `.d.ts` update to support `ResizeObserver`\n  // @ts-ignore\n  private _resizeObserver = new ResizeObserver(() => {\n    if (this._sidePanel) {\n      this._checkSetDoAnimateTitle();\n    }\n  });\n\n  private _getScrollAnimationDistance = () => {\n    const labelHeight = this?._label?.offsetHeight ?? 0;\n    const subtitleHeight = this?._subtitle?.offsetHeight ?? 0;\n    const titleVerticalBorder = this._hasActionToolbar\n      ? this._title.offsetHeight - this._title.clientHeight\n      : 0;\n\n    return labelHeight + subtitleHeight + titleVerticalBorder;\n  };\n\n  private _scrollObserver = () => {\n    const scrollTop = this._animateScrollWrapper?.scrollTop ?? 0;\n    const scrollAnimationDistance = this._getScrollAnimationDistance();\n    this?._sidePanel?.style?.setProperty(\n      `--${blockClass}--scroll-animation-progress`,\n      `${\n        Math.min(scrollTop, scrollAnimationDistance) / scrollAnimationDistance\n      }`\n    );\n  };\n\n  private _handleCurrentStepUpdate = () => {\n    const scrollable = this._animateScrollWrapper ?? this._innerContent;\n    if (scrollable) {\n      scrollable.scrollTop = 0;\n    }\n  };\n\n  /**\n   * Determines if the title will animate on scroll\n   */\n  @property({ reflect: true, attribute: 'animate-title', type: Boolean })\n  animateTitle = true;\n\n  /**\n   * Sets the close button icon description\n   */\n  @property({ reflect: true, attribute: 'close-icon-description' })\n  closeIconDescription = 'Close';\n\n  /**\n   * Determines whether the side panel should render the condensed version (affects action buttons primarily)\n   */\n  @property({ type: Boolean, reflect: true, attribute: 'condensed-actions' })\n  condensedActions = false;\n\n  /**\n   * Sets the current step of the side panel\n   */\n  @property({ reflect: true, attribute: 'current-step', type: Number })\n  currentStep;\n\n  /**\n   * Determines whether the side panel should render with an overlay\n   */\n  @property({ attribute: 'include-overlay', type: Boolean, reflect: true })\n  includeOverlay = false;\n\n  /**\n   * Sets the label text which will display above the title text\n   */\n  @property({ reflect: true, attribute: 'label-text' })\n  labelText;\n\n  /**\n   * Sets the icon description for the navigation back icon button\n   */\n  @property({ reflect: true, attribute: 'navigation-back-icon-description' })\n  navigationBackIconDescription = 'Back';\n\n  /**\n   * `true` if the side-panel should be open.\n   */\n  @property({ type: Boolean, reflect: true })\n  open = false;\n\n  /**\n   * SidePanel placement.\n   */\n  @property({ reflect: true, type: String })\n  placement = SIDE_PANEL_PLACEMENT.RIGHT;\n\n  /**\n   * Prevent closing on click outside of side-panel\n   */\n  @property({ type: Boolean, attribute: 'prevent-close-on-click-outside' })\n  preventCloseOnClickOutside = false;\n\n  /**\n   * The initial location of focus in the side panel\n   */\n  @property({\n    reflect: true,\n    attribute: 'selector-initial-focus',\n    type: String,\n  })\n  selectorInitialFocus;\n\n  /**\n   * Selector for page content, used to push content to side except\n   */\n  @property({ reflect: true, attribute: 'selector-page-content' })\n  selectorPageContent = '';\n\n  /**\n   * SidePanel size.\n   */\n  @property({ reflect: true, type: String })\n  size = SIDE_PANEL_SIZE.MEDIUM;\n\n  /**\n   * Determines if this panel slides in\n   */\n  @property({ attribute: 'slide-in', type: Boolean, reflect: true })\n  slideIn = false;\n\n  /**\n   * Sets the title text\n   */\n  @property({ reflect: false, type: String })\n  title;\n\n  async connectObservers() {\n    await this.updateComplete;\n    this._hObserveResize = observeResize(this._resizeObserver, this._sidePanel);\n  }\n\n  disconnectObservers() {\n    if (this._hObserveResize) {\n      this._hObserveResize = this._hObserveResize.release();\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.disconnectObservers();\n    this.connectObservers();\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.disconnectObservers();\n  }\n\n  render() {\n    const {\n      closeIconDescription,\n      condensedActions,\n      currentStep,\n      includeOverlay,\n      labelText,\n      navigationBackIconDescription,\n      open,\n      placement,\n      size,\n      slideIn,\n      title,\n    } = this;\n\n    if (!open && !this._isOpen) {\n      return html``;\n    }\n\n    const actionsMultiple = ['', 'single', 'double', 'triple'][\n      this._actionsCount\n    ];\n\n    const titleTemplate = html`<div\n      class=${`${blockClass}__title`}\n      ?no-label=${!!labelText}>\n      <h2 class=${title ? `${blockClass}__title-text` : ''} title=${title}>\n        ${title}\n      </h2>\n\n      ${this._doAnimateTitle\n        ? html`<h2\n            class=${`${blockClass}__collapsed-title-text`}\n            title=${title}\n            aria-hidden=\"true\">\n            ${title}\n          </h2>`\n        : ''}\n    </div>`;\n\n    const headerHasTitleClass = this.title\n      ? ` ${blockClass}__header--has-title `\n      : '';\n    const headerTemplate = html`\n      <div\n        class=${`${blockClass}__header${headerHasTitleClass}`}\n        ?detail-step=${currentStep > 0}\n        ?no-title-animation=${!this._doAnimateTitle}\n        ?reduced-motion=${this._reducedMotion.matches}>\n        <!-- render back button -->\n        ${currentStep > 0\n          ? html`<cds-custom-icon-button\n              align=\"bottom-left\"\n              aria-label=${navigationBackIconDescription}\n              kind=\"ghost\"\n              size=\"sm\"\n              class=${`${prefix}--btn ${blockClass}__navigation-back-button`}\n              @click=${this._handleNavigateBack}>\n              ${ArrowLeft16({ slot: 'icon' })}\n              <span slot=\"tooltip-content\">\n                ${navigationBackIconDescription}\n              </span>\n            </cds-custom-icon-button>`\n          : ''}\n\n        <!-- render title label -->\n        ${title?.length && labelText?.length\n          ? html` <p class=${`${blockClass}__label-text`}>${labelText}</p>`\n          : ''}\n\n        <!-- title -->\n        ${title ? titleTemplate : ''}\n\n        <!-- render slug and close button area -->\n        <div class=${`${blockClass}__slug-and-close`}>\n          <slot name=\"slug\" @slotchange=${this._handleSlugChange}></slot>\n          <!-- {normalizedSlug} -->\n          <cds-custom-icon-button\n            align=\"bottom-right\"\n            aria-label=${closeIconDescription}\n            kind=\"ghost\"\n            size=\"sm\"\n            class=${`${blockClass}__close-button`}\n            @click=${this._handleCloseClick}>\n            ${Close20({ slot: 'icon' })}\n            <span slot=\"tooltip-content\"> ${closeIconDescription} </span>\n          </cds-custom-icon-button>\n        </div>\n\n        <!-- render sub title -->\n        <p\n          class=${this._hasSubtitle ? `${blockClass}__subtitle-text` : ''}\n          ?hidden=${!this._hasSubtitle}\n          ?no-title-animation=${!this._doAnimateTitle}\n          ?no-action-toolbar=${!this._hasActionToolbar}\n          ?no-title=${!title}>\n          <slot\n            name=\"subtitle\"\n            @slotchange=${this._handleSubtitleChange}></slot>\n        </p>\n\n        <div\n          class=${this._hasActionToolbar ? `${blockClass}__action-toolbar` : ''}\n          ?hidden=${!this._hasActionToolbar}\n          ?no-title-animation=${!this._doAnimateTitle}>\n          <slot\n            name=\"action-toolbar\"\n            @slotchange=${this._handleActionToolbarChange}></slot>\n        </div>\n      </div>\n    `;\n\n    const mainTemplate = html`<div\n      class=${`${blockClass}__inner-content`}\n      ?scrolls=${!this._doAnimateTitle}>\n      <cds-custom-layer level=\"1\">\n        <slot></slot>\n      </cds-custom-layer>\n    </div> `;\n\n    const sidePanelAnimateTitleClass = this._doAnimateTitle\n      ? ` ${blockClass}--animated-title`\n      : '';\n\n    return html`\n      <div\n        class=${`${blockClass}${sidePanelAnimateTitleClass}`}\n        part=\"dialog\"\n        role=\"complementary\"\n        placement=\"${placement}\"\n        ?has-slug=${this._hasSlug}\n        ?open=${this._isOpen}\n        ?opening=${open && !this._isOpen}\n        ?closing=${!open && this._isOpen}\n        ?condensed-actions=${condensedActions}\n        ?overlay=${includeOverlay || slideIn}\n        ?slide-in=${slideIn}\n        size=${size}>\n        <a\n          id=\"start-sentinel\"\n          class=\"sentinel\"\n          hidden\n          href=\"javascript:void 0\"\n          role=\"navigation\"></a>\n\n        ${this._doAnimateTitle\n          ? html`<div class=${`${blockClass}__animated-scroll-wrapper`} scrolls>\n              ${headerTemplate} ${mainTemplate}\n            </div>`\n          : html` ${headerTemplate} ${mainTemplate}`}\n\n        <cds-custom-button-set-base\n          class=${`${blockClass}__actions-container`}\n          ?hidden=${this._actionsCount === 0}\n          ?condensed=${condensedActions}\n          actions-multiple=${actionsMultiple}\n          size=${size}>\n          <slot name=\"actions\" @slotchange=${this._handleActionsChange}></slot>\n        </cds-custom-button-set-base>\n\n        <a\n          id=\"end-sentinel\"\n          class=\"sentinel\"\n          hidden\n          href=\"javascript:void 0\"\n          role=\"navigation\"></a>\n      </div>\n\n      ${includeOverlay\n        ? html`<div\n            ?slide-in=${slideIn}\n            class=${`${blockClass}__overlay`}\n            ?open=${this.open}\n            ?opening=${open && !this._isOpen}\n            ?closing=${!open && this._isOpen}\n            tabindex=\"-1\"\n            @click=${this._handleClickOnOverlay}></div>`\n        : ''}\n    `;\n  }\n\n  async updated(changedProperties) {\n    if (changedProperties.has('condensedActions')) {\n      this._checkUpdateActionSizes();\n    }\n\n    if (changedProperties.has('currentStep')) {\n      this._handleCurrentStepUpdate();\n    }\n\n    if (changedProperties.has('_doAnimateTitle')) {\n      this?._animateScrollWrapper?.removeEventListener(\n        'scroll',\n        this._scrollObserver\n      );\n\n      if (this._doAnimateTitle) {\n        this?._animateScrollWrapper?.addEventListener(\n          'scroll',\n          this._scrollObserver\n        );\n      } else {\n        this?._sidePanel?.style?.setProperty(\n          `--${blockClass}--scroll-animation-progress`,\n          '0'\n        );\n      }\n    }\n\n    if (\n      changedProperties.has('_isOpen') ||\n      changedProperties.has('animateTitle')\n    ) {\n      /* @state property changed */\n      this._checkSetDoAnimateTitle();\n    }\n\n    if (\n      changedProperties.has('slideIn') ||\n      changedProperties.has('open') ||\n      changedProperties.has('includeOverlay')\n    ) {\n      this._adjustPageContent();\n    }\n\n    if (changedProperties.has('open')) {\n      this._checkSetOpen();\n\n      this.disconnectObservers();\n      if (this.open) {\n        this.connectObservers();\n\n        this._launcher = this.ownerDocument!.activeElement;\n        const focusNode =\n          this.selectorInitialFocus &&\n          this.querySelector(this.selectorInitialFocus);\n\n        await (this.constructor as typeof CDSSidePanel)._delay();\n        if (focusNode) {\n          // For cases where a `carbon-web-components` component (e.g. `<cds-custom-button>`) being `primaryFocusNode`,\n          // where its first update/render cycle that makes it focusable happens after `<cds-custom-side-panel>`'s first update/render cycle\n          (focusNode as HTMLElement).focus();\n        } else if (\n          !tryFocusElems(\n            this.querySelectorAll(\n              (this.constructor as typeof CDSSidePanel).selectorTabbable\n            ),\n            true\n          )\n        ) {\n          this.focus();\n        }\n      } else if (\n        this._launcher &&\n        typeof (this._launcher as HTMLElement).focus === 'function'\n      ) {\n        (this._launcher as HTMLElement).focus();\n        this._launcher = null;\n      }\n    }\n  }\n\n  /**\n   * @param ms The number of milliseconds.\n   * @returns A promise that is resolves after the given milliseconds.\n   */\n  private static _delay(ms = 0) {\n    return new Promise((resolve) => {\n      setTimeout(resolve, ms);\n    });\n  }\n\n  /**\n   * A selector selecting tabbable nodes.\n   */\n  static get selectorTabbable() {\n    return selectorTabbable;\n  }\n\n  /**\n   * The name of the custom event fired before this side-panel is being closed upon a user gesture.\n   * Cancellation of this event stops the user-initiated action of closing this side-panel.\n   */\n  static get eventBeforeClose() {\n    return `${prefix}-side-panel-beingclosed`;\n  }\n\n  /**\n   * The name of the custom event fired after this side-panel is closed upon a user gesture.\n   */\n  static get eventClose() {\n    return `${prefix}-side-panel-closed`;\n  }\n\n  /**\n   * The name of the custom event fired on clicking the navigate back button\n   */\n  static get eventNavigateBack() {\n    return `${prefix}-side-panel-navigate-back`;\n  }\n}\n\nexport default CDSSidePanel;\n"],"names":["customElement"],"mappings":"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"}