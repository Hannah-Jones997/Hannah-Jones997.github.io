{"version":3,"file":"heading.js","sources":["../../../src/components/heading/heading.ts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2025\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { html, LitElement } from 'lit';\nimport { property, customElement } from 'lit/decorators.js';\nimport { unsafeHTML } from 'lit/directives/unsafe-html.js';\nimport styles from './heading.scss?lit';\nimport { HEADING_LEVEL } from './defs';\nimport { prefix } from '../../globals/settings';\n\n@customElement(`${prefix}-section`)\nexport class CDSSection extends LitElement {\n  /**\n   * The level of the heading.\n   */\n  @property({ type: Number })\n  level?: HEADING_LEVEL;\n\n  private _currentLevel: HEADING_LEVEL = 1;\n\n  private getParentLevel(): HEADING_LEVEL {\n    const parentSection = this.parentElement?.closest(\n      `${prefix}-section`\n    ) as CDSSection;\n    return parentSection ? parentSection.getCurrentLevel() : 1;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    const parentLevel = this.getParentLevel();\n    this._currentLevel =\n      this.level ?? (Math.min(parentLevel + 1, 6) as HEADING_LEVEL);\n  }\n\n  getCurrentLevel(): HEADING_LEVEL {\n    return this._currentLevel;\n  }\n\n  render() {\n    return html`<slot></slot>`;\n  }\n}\n\n/**\n * The heading component\n *\n * @element cds-custom-heading\n */\n@customElement(`${prefix}-heading`)\nclass CDSHeading extends LitElement {\n  private _level: HEADING_LEVEL = 1;\n\n  connectedCallback() {\n    super.connectedCallback();\n    const section = this.closest(`${prefix}-section`) as CDSSection;\n    this._level = section ? section.getCurrentLevel() : 1;\n  }\n\n  render() {\n    const headingElement = `\n      <h${this._level}>\n        <slot></slot>\n      </h${this._level}>\n    `;\n\n    return html`${unsafeHTML(headingElement)}`;\n  }\n\n  static styles = styles;\n}\n\nexport default CDSHeading;\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;;;;AAKG;AAUI,IAAM,UAAU,GAAhB,MAAM,UAAW,SAAQ,UAAU,CAAA;AAAnC,IAAA,WAAA,GAAA;;QAOG,IAAa,CAAA,aAAA,GAAkB,CAAC;;IAEhC,cAAc,GAAA;;AACpB,QAAA,MAAM,aAAa,GAAG,CAAA,EAAA,GAAA,IAAI,CAAC,aAAa,MAAE,IAAA,IAAA,EAAA,KAAA,MAAA,GAAA,MAAA,GAAA,EAAA,CAAA,OAAO,CAC/C,CAAA,EAAG,MAAM,CAAA,QAAA,CAAU,CACN;AACf,QAAA,OAAO,aAAa,GAAG,aAAa,CAAC,eAAe,EAAE,GAAG,CAAC;;IAG5D,iBAAiB,GAAA;;QACf,KAAK,CAAC,iBAAiB,EAAE;AACzB,QAAA,MAAM,WAAW,GAAG,IAAI,CAAC,cAAc,EAAE;AACzC,QAAA,IAAI,CAAC,aAAa;AAChB,YAAA,CAAA,EAAA,GAAA,IAAI,CAAC,KAAK,MAAA,IAAA,IAAA,EAAA,KAAA,MAAA,GAAA,EAAA,GAAK,IAAI,CAAC,GAAG,CAAC,WAAW,GAAG,CAAC,EAAE,CAAC,CAAmB;;IAGjE,eAAe,GAAA;QACb,OAAO,IAAI,CAAC,aAAa;;IAG3B,MAAM,GAAA;QACJ,OAAO,IAAI,CAAA,CAAA,aAAA,CAAe;;;AAvB5B,UAAA,CAAA;AADC,IAAA,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE;AACJ,CAAA,EAAA,UAAA,CAAA,SAAA,EAAA,OAAA,EAAA,MAAA,CAAA;AALX,UAAU,GAAA,UAAA,CAAA;AADtB,IAAA,aAAa,CAAC,CAAA,EAAG,MAAM,CAAA,QAAA,CAAU;AACrB,CAAA,EAAA,UAAU,CA8BtB;AAED;;;;AAIG;AAEH,IAAM,UAAU,GAAhB,MAAM,UAAW,SAAQ,UAAU,CAAA;AAAnC,IAAA,WAAA,GAAA;;QACU,IAAM,CAAA,MAAA,GAAkB,CAAC;;IAEjC,iBAAiB,GAAA;QACf,KAAK,CAAC,iBAAiB,EAAE;QACzB,MAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,CAAG,EAAA,MAAM,CAAU,QAAA,CAAA,CAAe;AAC/D,QAAA,IAAI,CAAC,MAAM,GAAG,OAAO,GAAG,OAAO,CAAC,eAAe,EAAE,GAAG,CAAC;;IAGvD,MAAM,GAAA;AACJ,QAAA,MAAM,cAAc,GAAG;AACjB,QAAA,EAAA,IAAI,CAAC,MAAM,CAAA;;AAEV,SAAA,EAAA,IAAI,CAAC,MAAM,CAAA;KACjB;QAED,OAAO,IAAI,CAAA,CAAG,EAAA,UAAU,CAAC,cAAc,CAAC,EAAE;;;AAGrC,UAAM,CAAA,MAAA,GAAG,MAAH;AAnBT,UAAU,GAAA,UAAA,CAAA;AADf,IAAA,aAAa,CAAC,CAAA,EAAG,MAAM,CAAA,QAAA,CAAU;AAC5B,CAAA,EAAA,UAAU,CAoBf;AAED,mBAAe,UAAU;;;;"}