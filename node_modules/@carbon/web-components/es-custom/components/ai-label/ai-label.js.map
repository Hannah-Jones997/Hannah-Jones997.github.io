{"version":3,"file":"ai-label.js","sources":["../../../src/components/ai-label/ai-label.ts"],"sourcesContent":["/**\n * Copyright IBM Corp. 2019, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { classMap } from 'lit/directives/class-map.js';\nimport { html } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport CDSToggleTip from '../toggle-tip/toggletip';\nimport styles from './ai-label.scss?lit';\nimport Undo16 from '@carbon/icons/lib/undo/16.js';\nimport { AI_LABEL_SIZE, AI_LABEL_KIND } from './defs';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\n\n/**\n * Basic AI Label.\n *\n * @element cds-custom-ai-label\n */\n@customElement(`${prefix}-ai-label`)\nclass CDSAILabel extends CDSToggleTip {\n  /**\n   * @deprecated the slot string will be renamed to \"decorator\"\n   */\n  @property({ reflect: true })\n  slot = 'ai-label';\n\n  /**\n   * Specify the correct translation of the AI text\n   */\n  @property({ attribute: 'ai-text' })\n  aiText = 'AI';\n\n  /**\n   * Specify additional text to be rendered next to the AI label in the inline variant\n   */\n  @property({ attribute: 'ai-text-label' })\n  aiTextLabel = '';\n\n  /**\n   * Specify the type of AI Label, from the following list of types: (default, inline)\n   */\n  @property({ reflect: true })\n  kind = AI_LABEL_KIND.DEFAULT;\n\n  /**\n   * Specify whether the revert button should be visible\n   */\n  @property({ type: Boolean, attribute: 'revert-active' })\n  revertActive = false;\n\n  /**\n   * Specify whether the revert button should be visible\n   */\n  @property({ attribute: 'revert-label' })\n  revertLabel = 'Revert to AI input';\n\n  /**\n   * AI Label size should be mini, 2xs, xs, sm, md, lg, xl.\n   */\n  @property({ reflect: true })\n  size = AI_LABEL_SIZE.EXTRA_SMALL;\n\n  /**\n   * Specify the text that will be provided to the aria-label of the `AI Label` button\n   */\n  @property({ attribute: 'button-label' })\n  buttonLabel = 'Show information';\n\n  @property()\n  previousValue;\n\n  protected _handleClick = () => {\n    if (this.revertActive) {\n      this.revertActive = false;\n      this.removeAttribute('revert-active');\n    } else {\n      this.open = !this.open;\n    }\n  };\n\n  protected _renderToggleTipLabel = () => {\n    return html``;\n  };\n\n  protected _renderTooltipButton = () => {\n    const { size, kind, aiText, aiTextLabel, buttonLabel } = this;\n    const ariaLabel = `${aiText} - ${buttonLabel}`;\n    const classes = classMap({\n      [`${prefix}--toggletip-button`]: true,\n      [`${prefix}--slug__button`]: true,\n      [`${prefix}--slug__button--${size}`]: size,\n      [`${prefix}--slug__button--${kind}`]: kind,\n      [`${prefix}--slug__button--inline-with-content`]:\n        kind === AI_LABEL_KIND.INLINE && aiTextLabel,\n    });\n    return html`\n      <button\n        aria-controls=\"${this.id}\"\n        @click=\"${this._handleClick}\"\n        class=${classes}\n        aria-label=\"${ariaLabel}\">\n        <span class=\"${prefix}--slug__text\">${aiText}</span>\n        ${aiTextLabel && kind === AI_LABEL_KIND.INLINE\n          ? html`\n              <span class=\"${prefix}--slug__additional-text\">\n                ${aiTextLabel}\n              </span>\n            `\n          : ``}\n      </button>\n    `;\n  };\n\n  protected _renderInnerContent = () => {\n    const { autoalign, revertActive, revertLabel } = this;\n    return html`\n      ${revertActive\n        ? html`\n            <cds-custom-icon-button\n              ?autoalign=${autoalign}\n              kind=\"ghost\"\n              size=\"sm\"\n              @click=\"${this._handleClick}\">\n              <span slot=\"tooltip-content\"> ${revertLabel} </span>\n              ${Undo16({ slot: 'icon' })}\n            </cds-custom-icon-button>\n          `\n        : html`\n            ${this._renderTooltipButton()} ${this._renderTooltipContent()}\n          `}\n    `;\n  };\n\n  attributeChangedCallback(name, old, newValue) {\n    super.attributeChangedCallback(name, old, newValue);\n\n    //@ts-ignore typescript does not think requestUpdate() exists on parentElement\n    name === 'revert-active' ? this.parentElement?.requestUpdate() : ``;\n  }\n\n  static styles = styles;\n}\n\nexport default CDSAILabel;\n"],"names":["customElement"],"mappings":"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"}